<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Polynomial.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--without-K</a> <a id="25" class="Option">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Polynomial.Parameters.html" class="Module">Polynomial.Parameters</a>

<a id="72" class="Keyword">module</a> <a id="79" href="Polynomial.Solver.html" class="Module">Polynomial.Solver</a>
  <a id="99" class="Symbol">{</a><a id="100" href="Polynomial.Solver.html#100" class="Bound">r₁</a> <a id="103" href="Polynomial.Solver.html#103" class="Bound">r₂</a> <a id="106" href="Polynomial.Solver.html#106" class="Bound">r₃</a><a id="108" class="Symbol">}</a>
  <a id="112" class="Symbol">(</a><a id="113" href="Polynomial.Solver.html#113" class="Bound">homo</a> <a id="118" class="Symbol">:</a> <a id="120" href="Polynomial.Parameters.html#795" class="Record">Homomorphism</a> <a id="133" href="Polynomial.Solver.html#100" class="Bound">r₁</a> <a id="136" href="Polynomial.Solver.html#103" class="Bound">r₂</a> <a id="139" href="Polynomial.Solver.html#106" class="Bound">r₃</a><a id="141" class="Symbol">)</a>
  <a id="145" class="Keyword">where</a>

<a id="152" class="Keyword">open</a> <a id="157" class="Keyword">import</a> <a id="164" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="173" class="Symbol">as</a> <a id="176" class="Module">Vec</a> <a id="180" class="Keyword">using</a> <a id="186" class="Symbol">(</a><a id="187" href="Data.Vec.html#773" class="Datatype">Vec</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Polynomial.Expr.html" class="Module">Polynomial.Expr</a> <a id="220" class="Keyword">public</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>

<a id="282" class="Keyword">open</a> <a id="287" href="Polynomial.Parameters.html#795" class="Module">Homomorphism</a> <a id="300" href="Polynomial.Solver.html#113" class="Bound">homo</a>
<a id="305" class="Keyword">open</a> <a id="310" href="Polynomial.Expr.html#515" class="Module">Eval</a> <a id="315" href="Polynomial.Solver.html#113" class="Bound">homo</a>

<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Polynomial.NormalForm.Definition.html" class="Module">Polynomial.NormalForm.Definition</a> <a id="366" href="Polynomial.Parameters.html#862" class="Field">coeffs</a>
  <a id="375" class="Keyword">using</a> <a id="381" class="Symbol">(</a>Poly<a id="386" class="Symbol">)</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Polynomial.NormalForm.Operations.html" class="Module">Polynomial.NormalForm.Operations</a> <a id="433" href="Polynomial.Parameters.html#862" class="Field">coeffs</a>
  <a id="442" class="Keyword">using</a> <a id="448" class="Symbol">(</a>_⊞_<a id="452" class="Symbol">;</a> _⊠_<a id="457" class="Symbol">;</a> ⊟_<a id="461" class="Symbol">;</a> _⊡_<a id="466" class="Symbol">;</a> κ<a id="469" class="Symbol">;</a> ι<a id="472" class="Symbol">)</a>

<a id="norm"></a><a id="475" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="480" class="Symbol">:</a> <a id="482" class="Symbol">∀</a> <a id="484" class="Symbol">{</a><a id="485" href="Polynomial.Solver.html#485" class="Bound">n</a><a id="486" class="Symbol">}</a> <a id="488" class="Symbol">→</a> <a id="490" href="Polynomial.Expr.html#244" class="Datatype">Expr</a> <a id="495" href="Algebra.html#12255" class="Function">Raw.Carrier</a> <a id="507" href="Polynomial.Solver.html#485" class="Bound">n</a> <a id="509" class="Symbol">→</a> <a id="511" href="Polynomial.NormalForm.Definition.html#1078" class="Record">Poly</a> <a id="516" href="Polynomial.Solver.html#485" class="Bound">n</a>
<a id="518" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="523" class="Symbol">(</a><a id="524" href="Polynomial.Expr.html#290" class="InductiveConstructor">Κ</a> <a id="526" href="Polynomial.Solver.html#526" class="Bound">x</a><a id="527" class="Symbol">)</a> <a id="529" class="Symbol">=</a> <a id="531" href="Polynomial.NormalForm.Operations.html#6247" class="Function">κ</a> <a id="533" href="Polynomial.Solver.html#526" class="Bound">x</a>
<a id="535" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="540" class="Symbol">(</a><a id="541" href="Polynomial.Expr.html#311" class="InductiveConstructor">Ι</a> <a id="543" href="Polynomial.Solver.html#543" class="Bound">x</a><a id="544" class="Symbol">)</a> <a id="546" class="Symbol">=</a> <a id="548" href="Polynomial.NormalForm.Operations.html#6325" class="Function">ι</a> <a id="550" href="Polynomial.Solver.html#543" class="Bound">x</a>
<a id="552" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="557" class="Symbol">(</a><a id="558" href="Polynomial.Solver.html#558" class="Bound">x</a> <a id="560" href="Polynomial.Expr.html#336" class="InductiveConstructor Operator">⊕</a> <a id="562" href="Polynomial.Solver.html#562" class="Bound">y</a><a id="563" class="Symbol">)</a> <a id="565" class="Symbol">=</a> <a id="567" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="572" href="Polynomial.Solver.html#558" class="Bound">x</a> <a id="574" href="Polynomial.NormalForm.Operations.html#1970" class="Function Operator">⊞</a> <a id="576" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="581" href="Polynomial.Solver.html#562" class="Bound">y</a>
<a id="583" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="588" class="Symbol">(</a><a id="589" href="Polynomial.Solver.html#589" class="Bound">x</a> <a id="591" href="Polynomial.Expr.html#375" class="InductiveConstructor Operator">⊗</a> <a id="593" href="Polynomial.Solver.html#593" class="Bound">y</a><a id="594" class="Symbol">)</a> <a id="596" class="Symbol">=</a> <a id="598" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="603" href="Polynomial.Solver.html#589" class="Bound">x</a> <a id="605" href="Polynomial.NormalForm.Operations.html#5943" class="Function Operator">⊠</a> <a id="607" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="612" href="Polynomial.Solver.html#593" class="Bound">y</a>
<a id="614" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="619" class="Symbol">(</a><a id="620" href="Polynomial.Solver.html#620" class="Bound">x</a> <a id="622" href="Polynomial.Expr.html#414" class="InductiveConstructor Operator">⊛</a> <a id="624" href="Polynomial.Solver.html#624" class="Bound">i</a><a id="625" class="Symbol">)</a> <a id="627" class="Symbol">=</a> <a id="629" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="634" href="Polynomial.Solver.html#620" class="Bound">x</a> <a id="636" href="Polynomial.NormalForm.Operations.html#7022" class="Function Operator">⊡</a> <a id="638" href="Polynomial.Solver.html#624" class="Bound">i</a>
<a id="640" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="645" class="Symbol">(</a><a id="646" href="Polynomial.Expr.html#446" class="InductiveConstructor Operator">⊝</a> <a id="648" href="Polynomial.Solver.html#648" class="Bound">x</a><a id="649" class="Symbol">)</a> <a id="651" class="Symbol">=</a> <a id="653" href="Polynomial.NormalForm.Operations.html#3895" class="Function Operator">⊟</a> <a id="655" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="660" href="Polynomial.Solver.html#648" class="Bound">x</a>

<a id="663" class="Keyword">open</a> <a id="668" class="Keyword">import</a> <a id="675" href="Polynomial.NormalForm.Semantics.html" class="Module">Polynomial.NormalForm.Semantics</a> <a id="707" href="Polynomial.Solver.html#113" class="Bound">homo</a>
  <a id="714" class="Keyword">renaming</a> <a id="723" class="Symbol">(</a>⟦_⟧ <a id="728" class="Symbol">to</a> ⟦_⟧ₚ<a id="735" class="Symbol">)</a>

<a id="⟦_⇓⟧"></a><a id="738" href="Polynomial.Solver.html#738" class="Function Operator">⟦_⇓⟧</a> <a id="743" class="Symbol">:</a> <a id="745" class="Symbol">∀</a> <a id="747" class="Symbol">{</a><a id="748" href="Polynomial.Solver.html#748" class="Bound">n</a><a id="749" class="Symbol">}</a> <a id="751" class="Symbol">→</a> <a id="753" href="Polynomial.Expr.html#244" class="Datatype">Expr</a> <a id="758" href="Algebra.html#12255" class="Function">Raw.Carrier</a> <a id="770" href="Polynomial.Solver.html#748" class="Bound">n</a> <a id="772" class="Symbol">→</a> <a id="774" href="Data.Vec.html#773" class="Datatype">Vec</a> <a id="778" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#1263" class="Function">Carrier</a> <a id="786" href="Polynomial.Solver.html#748" class="Bound">n</a> <a id="788" class="Symbol">→</a> <a id="790" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#1263" class="Function">Carrier</a>
<a id="798" href="Polynomial.Solver.html#738" class="Function Operator">⟦</a> <a id="800" href="Polynomial.Solver.html#800" class="Bound">x</a> <a id="802" href="Polynomial.Solver.html#738" class="Function Operator">⇓⟧</a> <a id="805" class="Symbol">=</a> <a id="807" href="Polynomial.NormalForm.Semantics.html#1752" class="Function Operator">⟦</a> <a id="809" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="814" href="Polynomial.Solver.html#800" class="Bound">x</a> <a id="816" href="Polynomial.NormalForm.Semantics.html#1752" class="Function Operator">⟧ₚ</a>

<a id="820" class="Keyword">import</a> <a id="827" href="Polynomial.Homomorphism.html" class="Module">Polynomial.Homomorphism</a> <a id="851" href="Polynomial.Solver.html#113" class="Bound">homo</a>
  <a id="858" class="Symbol">as</a> <a id="Hom"></a><a id="861" href="Polynomial.Solver.html#861" class="Module">Hom</a>
<a id="865" class="Keyword">open</a> <a id="870" class="Keyword">import</a> <a id="877" href="Function.html" class="Module">Function</a>

<a id="correct"></a><a id="887" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="895" class="Symbol">:</a> <a id="897" class="Symbol">∀</a> <a id="899" class="Symbol">{</a><a id="900" href="Polynomial.Solver.html#900" class="Bound">n</a><a id="901" class="Symbol">}</a> <a id="903" class="Symbol">(</a><a id="904" href="Polynomial.Solver.html#904" class="Bound">e</a> <a id="906" class="Symbol">:</a> <a id="908" href="Polynomial.Expr.html#244" class="Datatype">Expr</a> <a id="913" href="Algebra.html#12255" class="Function">Raw.Carrier</a> <a id="925" href="Polynomial.Solver.html#900" class="Bound">n</a><a id="926" class="Symbol">)</a> <a id="928" href="Polynomial.Solver.html#928" class="Bound">ρ</a> <a id="930" class="Symbol">→</a> <a id="932" href="Polynomial.Solver.html#738" class="Function Operator">⟦</a> <a id="934" href="Polynomial.Solver.html#904" class="Bound">e</a> <a id="936" href="Polynomial.Solver.html#738" class="Function Operator">⇓⟧</a> <a id="939" href="Polynomial.Solver.html#928" class="Bound">ρ</a> <a id="941" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#1299" class="Function Operator">≈</a> <a id="943" href="Polynomial.Expr.html#687" class="Function Operator">⟦</a> <a id="945" href="Polynomial.Solver.html#904" class="Bound">e</a> <a id="947" href="Polynomial.Expr.html#687" class="Function Operator">⟧</a> <a id="949" href="Polynomial.Solver.html#928" class="Bound">ρ</a>
<a id="951" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="959" class="Symbol">(</a><a id="960" href="Polynomial.Expr.html#290" class="InductiveConstructor">Κ</a> <a id="962" href="Polynomial.Solver.html#962" class="Bound">x</a><a id="963" class="Symbol">)</a> <a id="965" href="Polynomial.Solver.html#965" class="Bound">ρ</a> <a id="967" class="Symbol">=</a> <a id="969" href="Polynomial.Homomorphism.Semantics.html#547" class="Function">Hom.κ-hom</a> <a id="979" href="Polynomial.Solver.html#962" class="Bound">x</a> <a id="981" href="Polynomial.Solver.html#965" class="Bound">ρ</a>
<a id="983" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="991" class="Symbol">(</a><a id="992" href="Polynomial.Expr.html#311" class="InductiveConstructor">Ι</a> <a id="994" href="Polynomial.Solver.html#994" class="Bound">x</a><a id="995" class="Symbol">)</a> <a id="997" href="Polynomial.Solver.html#997" class="Bound">ρ</a> <a id="999" class="Symbol">=</a> <a id="1001" href="Polynomial.Homomorphism.Semantics.html#660" class="Function">Hom.ι-hom</a> <a id="1011" href="Polynomial.Solver.html#994" class="Bound">x</a> <a id="1013" href="Polynomial.Solver.html#997" class="Bound">ρ</a>
<a id="1015" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1023" class="Symbol">(</a><a id="1024" href="Polynomial.Solver.html#1024" class="Bound">x</a> <a id="1026" href="Polynomial.Expr.html#336" class="InductiveConstructor Operator">⊕</a> <a id="1028" href="Polynomial.Solver.html#1028" class="Bound">y</a><a id="1029" class="Symbol">)</a> <a id="1031" href="Polynomial.Solver.html#1031" class="Bound">ρ</a> <a id="1033" class="Symbol">=</a> <a id="1035" href="Polynomial.Homomorphism.Addition.html#780" class="Function">Hom.⊞-hom</a> <a id="1045" class="Symbol">(</a><a id="1046" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="1051" href="Polynomial.Solver.html#1024" class="Bound">x</a><a id="1052" class="Symbol">)</a> <a id="1054" class="Symbol">(</a><a id="1055" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="1060" href="Polynomial.Solver.html#1028" class="Bound">y</a><a id="1061" class="Symbol">)</a> <a id="1063" href="Polynomial.Solver.html#1031" class="Bound">ρ</a> <a id="1065" href="Function.html#2548" class="Function Operator">⟨</a> <a id="1067" href="Relation.Binary.Core.html#5860" class="Function">trans</a> <a id="1073" href="Function.html#2548" class="Function Operator">⟩</a> <a id="1075" class="Symbol">(</a><a id="1076" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1084" href="Polynomial.Solver.html#1024" class="Bound">x</a> <a id="1086" href="Polynomial.Solver.html#1031" class="Bound">ρ</a> <a id="1088" href="Function.html#2548" class="Function Operator">⟨</a> <a id="1090" href="Algebra.Structures.html#860" class="Function">+-cong</a> <a id="1097" href="Function.html#2548" class="Function Operator">⟩</a> <a id="1099" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1107" href="Polynomial.Solver.html#1028" class="Bound">y</a> <a id="1109" href="Polynomial.Solver.html#1031" class="Bound">ρ</a><a id="1110" class="Symbol">)</a>
<a id="1112" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Polynomial.Solver.html#1121" class="Bound">x</a> <a id="1123" href="Polynomial.Expr.html#375" class="InductiveConstructor Operator">⊗</a> <a id="1125" href="Polynomial.Solver.html#1125" class="Bound">y</a><a id="1126" class="Symbol">)</a> <a id="1128" href="Polynomial.Solver.html#1128" class="Bound">ρ</a> <a id="1130" class="Symbol">=</a> <a id="1132" href="Polynomial.Homomorphism.Multiplication.html#8206" class="Function">Hom.⊠-hom</a> <a id="1142" class="Symbol">(</a><a id="1143" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="1148" href="Polynomial.Solver.html#1121" class="Bound">x</a><a id="1149" class="Symbol">)</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="1157" href="Polynomial.Solver.html#1125" class="Bound">y</a><a id="1158" class="Symbol">)</a> <a id="1160" href="Polynomial.Solver.html#1128" class="Bound">ρ</a> <a id="1162" href="Function.html#2548" class="Function Operator">⟨</a> <a id="1164" href="Relation.Binary.Core.html#5860" class="Function">trans</a> <a id="1170" href="Function.html#2548" class="Function Operator">⟩</a> <a id="1172" class="Symbol">(</a><a id="1173" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1181" href="Polynomial.Solver.html#1121" class="Bound">x</a> <a id="1183" href="Polynomial.Solver.html#1128" class="Bound">ρ</a> <a id="1185" href="Function.html#2548" class="Function Operator">⟨</a> <a id="1187" href="Algebra.Structures.html#860" class="Function">*-cong</a> <a id="1194" href="Function.html#2548" class="Function Operator">⟩</a> <a id="1196" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1204" href="Polynomial.Solver.html#1125" class="Bound">y</a> <a id="1206" href="Polynomial.Solver.html#1128" class="Bound">ρ</a><a id="1207" class="Symbol">)</a>
<a id="1209" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1217" class="Symbol">(</a><a id="1218" href="Polynomial.Solver.html#1218" class="Bound">x</a> <a id="1220" href="Polynomial.Expr.html#414" class="InductiveConstructor Operator">⊛</a> <a id="1222" href="Polynomial.Solver.html#1222" class="Bound">i</a><a id="1223" class="Symbol">)</a> <a id="1225" href="Polynomial.Solver.html#1225" class="Bound">ρ</a> <a id="1227" class="Symbol">=</a> <a id="1229" href="Polynomial.Homomorphism.Exponentiation.html#3058" class="Function">Hom.⊡-hom</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="1245" href="Polynomial.Solver.html#1218" class="Bound">x</a><a id="1246" class="Symbol">)</a> <a id="1248" href="Polynomial.Solver.html#1222" class="Bound">i</a> <a id="1250" href="Polynomial.Solver.html#1225" class="Bound">ρ</a> <a id="1252" href="Function.html#2548" class="Function Operator">⟨</a> <a id="1254" href="Relation.Binary.Core.html#5860" class="Function">trans</a> <a id="1260" href="Function.html#2548" class="Function Operator">⟩</a> <a id="1262" class="Symbol">(</a><a id="1263" href="Polynomial.Homomorphism.Lemmas.html#3611" class="Function">Hom.pow-cong</a> <a id="1276" href="Polynomial.Solver.html#1222" class="Bound">i</a> <a id="1278" class="Symbol">(</a><a id="1279" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1287" href="Polynomial.Solver.html#1218" class="Bound">x</a> <a id="1289" href="Polynomial.Solver.html#1225" class="Bound">ρ</a><a id="1290" class="Symbol">))</a>
<a id="1293" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1301" class="Symbol">(</a><a id="1302" href="Polynomial.Expr.html#446" class="InductiveConstructor Operator">⊝</a> <a id="1304" href="Polynomial.Solver.html#1304" class="Bound">x</a><a id="1305" class="Symbol">)</a> <a id="1307" href="Polynomial.Solver.html#1307" class="Bound">ρ</a> <a id="1309" class="Symbol">=</a> <a id="1311" href="Polynomial.Homomorphism.Negation.html#1354" class="Function">Hom.⊟-hom</a> <a id="1321" class="Symbol">(</a><a id="1322" href="Polynomial.Solver.html#475" class="Function">norm</a> <a id="1327" href="Polynomial.Solver.html#1304" class="Bound">x</a><a id="1328" class="Symbol">)</a> <a id="1330" href="Polynomial.Solver.html#1307" class="Bound">ρ</a> <a id="1332" href="Function.html#2548" class="Function Operator">⟨</a> <a id="1334" href="Relation.Binary.Core.html#5860" class="Function">trans</a> <a id="1340" href="Function.html#2548" class="Function Operator">⟩</a> <a id="1342" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#894" class="Function">-‿cong</a> <a id="1349" class="Symbol">(</a><a id="1350" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1358" href="Polynomial.Solver.html#1304" class="Bound">x</a> <a id="1360" href="Polynomial.Solver.html#1307" class="Bound">ρ</a><a id="1361" class="Symbol">)</a>

<a id="1364" class="Keyword">open</a> <a id="1369" class="Keyword">import</a> <a id="1376" href="Relation.Binary.Reflection.html" class="Module">Relation.Binary.Reflection</a> <a id="1403" href="Algebra.Structures.html#935" class="Function">setoid</a> <a id="1410" href="Polynomial.Expr.html#311" class="InductiveConstructor">Ι</a> <a id="1412" href="Polynomial.Expr.html#687" class="Function Operator">⟦_⟧</a> <a id="1416" href="Polynomial.Solver.html#738" class="Function Operator">⟦_⇓⟧</a> <a id="1421" href="Polynomial.Solver.html#887" class="Function">correct</a> <a id="1429" class="Keyword">public</a>
</pre></body></html>