<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>README</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Comment">-- ------------------------------------------------------------------------------------------------------</a>
<a id="108" class="Comment">-- | ███████╗ ██████╗ ██╗     ██╗   ██╗██╗███╗   ██╗ ██████╗     ██████╗ ██╗███╗   ██╗ ██████╗ ███████╗ |</a>
<a id="214" class="Comment">-- | ██╔════╝██╔═══██╗██║     ██║   ██║██║████╗  ██║██╔════╝     ██╔══██╗██║████╗  ██║██╔════╝ ██╔════╝ |</a>
<a id="320" class="Comment">-- | ███████╗██║   ██║██║     ██║   ██║██║██╔██╗ ██║██║  ███╗    ██████╔╝██║██╔██╗ ██║██║  ███╗███████╗ |</a>
<a id="426" class="Comment">-- | ╚════██║██║   ██║██║     ╚██╗ ██╔╝██║██║╚██╗██║██║   ██║    ██╔══██╗██║██║╚██╗██║██║   ██║╚════██║ |</a>
<a id="532" class="Comment">-- | ███████║╚██████╔╝███████╗ ╚████╔╝ ██║██║ ╚████║╚██████╔╝    ██║  ██║██║██║ ╚████║╚██████╔╝███████║ |</a>
<a id="638" class="Comment">-- | ╚══════╝ ╚═════╝ ╚══════╝  ╚═══╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝     ╚═╝  ╚═╝╚═╝╚═╝  ╚═══╝ ╚═════╝ ╚══════╝ |</a>
<a id="744" class="Comment">-- |                                                                                                    |</a>
<a id="850" class="Comment">-- |                         ██╗███╗   ██╗     █████╗  ██████╗ ██████╗  █████╗                          |</a>
<a id="956" class="Comment">-- |                         ██║████╗  ██║    ██╔══██╗██╔════╝ ██╔══██╗██╔══██╗                         |</a>
<a id="1062" class="Comment">-- |                         ██║██╔██╗ ██║    ███████║██║  ███╗██║  ██║███████║                         |</a>
<a id="1168" class="Comment">-- |                         ██║██║╚██╗██║    ██╔══██║██║   ██║██║  ██║██╔══██║                         |</a>
<a id="1274" class="Comment">-- |   </a><a id="1281" class="Bound"> </a><a id="1282" class="Comment"> </a><a id="1283" class="Bound">   </a><a id="1286" class="Comment"> </a><a id="1287" class="Bound">   </a><a id="1290" class="Comment">   </a><a id="1293" class="Bound"> </a><a id="1294" class="Comment"> </a><a id="1295" class="Function">  </a><a id="1297" class="Comment"> </a><a id="1298" class="Bound">   </a><a id="1301" class="Comment"> </a><a id="1302" class="Function"> </a><a id="1303" class="Comment">█</a><a id="1304" class="Bound">█║█</a><a id="1307" class="Comment">█║ ╚████║    ██║  ██║╚██████╔╝██████╔╝██║  ██║                         |</a>
<a id="1380" class="Comment">-- |                         ╚═╝╚═╝  ╚═══╝    ╚═╝  ╚═╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═╝                         |</a>
<a id="1486" class="Comment">-- ------------------------------------------------------------------------------------------------------</a>
<a id="1592" class="Comment">--</a>
<a id="1595" class="Comment">--                                        Donnacha Oisín Kidney</a>
<a id="1659" class="Comment">--                                            17 April 2019</a>
<a id="1719" class="Comment">--</a>
<a id="1722" class="Comment">-- Compiled with Agda version 2.6.0, and standard library commit 09ebff3a4724891d8805eced1d48ecda7908d914</a>

<a id="1829" class="Comment">-- This contains the worked-through source code for:</a>
<a id="1882" class="Comment">--</a>
<a id="1885" class="Comment">--     &quot;Automatically And Efficiently Illustrating Polynomial Equalities in Agda&quot;</a>
<a id="1967" class="Comment">--</a>
<a id="1970" class="Comment">--     We present a new library which automates the construction of equivalence</a>
<a id="2050" class="Comment">--     proofs between polynomials over commutative rings and semirings in the</a>
<a id="2128" class="Comment">--     programming language Agda. It is asymptotically faster than Agda&#39;s existing</a>
<a id="2211" class="Comment">--     solver. We use Agda&#39;s reflection machinery to provide a simple interface to</a>
<a id="2294" class="Comment">--     the solver, and demonstrate an interesting use of the constructed relations:</a>
<a id="2378" class="Comment">--     step-by-step solutions.</a>
<a id="2409" class="Comment">--</a>
<a id="2412" class="Comment">-- Which is (at time of writing) a work-in-progress.</a>
<a id="2465" class="Comment">--</a>
<a id="2468" class="Comment">-- This code is available on github:</a>
<a id="2505" class="Comment">--     https://github.com/oisdk/agda-ring-solver</a>
<a id="2554" class="Comment">--</a>
<a id="2557" class="Comment">-- As is the paper:</a>
<a id="2577" class="Comment">--     https://github.com/oisdk/agda-ring-solver-report</a>

<a id="2634" class="Keyword">module</a> <a id="2641" href="README.html" class="Module">README</a> <a id="2648" class="Keyword">where</a>

<a id="2655" class="Comment">--------------------------------------------------------------------------------</a>
<a id="2736" class="Comment">-- There are 3 main contributions in this library:                            --</a>
<a id="2817" class="Comment">--                                                                            --</a>
<a id="2898" class="Comment">--   * A solver for polynomials over &quot;almost commutative rings&quot;.              --</a>
<a id="2979" class="Comment">--         Agda already has one these in the standard library, but this one   --</a>
<a id="3060" class="Comment">--         is much more efficient. &quot;Almost commutative rings&quot; encapsulates a  --</a>
<a id="3141" class="Comment">--         bunch of things, including ℕ.                                      --</a>
<a id="3222" class="Comment">--                                                                            --</a>
<a id="3303" class="Comment">--   * A reflection-based interface.                                          --</a>
<a id="3384" class="Comment">--         Not many people used the old solver, mainly (I think) because the  --</a>
<a id="3465" class="Comment">--         interface was difficult and irritating. This library provides a    --</a>
<a id="3546" class="Comment">--         super-simple interface using reflection.                           --</a>
<a id="3627" class="Comment">--                                                                            --</a>
<a id="3708" class="Comment">--   * An implementation of &quot;step-by-step solutions&quot;.                         --</a>
<a id="3789" class="Comment">--         I don&#39;t know a huge amount about computer algebra systems, but I   --</a>
<a id="3870" class="Comment">--         have used Wolfram Alpha countless times (especially when I was in  --</a>
<a id="3951" class="Comment">--         school) to help with basic maths. I was able to get this solver to --</a>
<a id="4032" class="Comment">--         produce step-by-step solutions, and learned something about the    --</a>
<a id="4113" class="Comment">--         theory behind them along the way.                                  --</a>
<a id="4194" class="Comment">--------------------------------------------------------------------------------</a>
<a id="4275" class="Comment">--</a>
<a id="4278" class="Comment">-- ██████╗ ███████╗███╗   ██╗ ██████╗██╗  ██╗███╗   ███╗ █████╗ ██████╗ ██╗  ██╗███████╗</a>
<a id="4367" class="Comment">-- ██╔══██╗██╔════╝████╗  ██║██╔════╝██║  ██║████╗ ████║██╔══██╗██╔══██╗██║ ██╔╝██╔════╝</a>
<a id="4456" class="Comment">-- ██████╔╝█████╗  ██╔██╗ ██║██║     ███████║██╔████╔██║███████║██████╔╝█████╔╝ ███████╗ ███████╗</a>
<a id="4554" class="Comment">-- ██╔══██╗██╔══╝  ██║╚██╗██║██║     ██╔══██║██║╚██╔╝██║██╔══██║██╔══██╗██╔═██╗ ╚════██║ ╚════██║</a>
<a id="4652" class="Comment">-- ██████╔╝███████╗██║ ╚████║╚██████╗██║  ██║██║ ╚═╝ ██║██║  ██║██║  ██║██║  ██╗███████║      ██║</a>
<a id="4750" class="Comment">-- ╚═════╝ ╚══════╝╚═╝  ╚═══╝ ╚═════╝╚═╝  ╚═╝╚═╝     ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝      ██║</a>
<a id="4848" class="Comment">--                                                                                            ██║</a>
<a id="4946" class="Comment">-- ███████╗██╗  ██╗ █████╗ ███╗   ███╗██████╗ ██╗     ███████╗███████╗                        ██║</a>
<a id="5044" class="Comment">-- ██╔════╝╚██╗██╔╝██╔══██╗████╗ ████║██╔══██╗██║     ██╔════╝██╔════╝                        ██║</a>
<a id="5142" class="Comment">-- █████╗   ╚███╔╝ ███████║██╔████╔██║██████╔╝██║     █████╗  ███████╗ ████████████████████╗  ██║</a>
<a id="5240" class="Comment">-- ██╔══╝   ██╔██╗ ██╔══██║██║╚██╔╝██║██╔═══╝ ██║     ██╔══╝  ╚════██║ ╚═════════════════██║  ██║</a>
<a id="5338" class="Comment">-- ███████╗██╔╝ ██╗██║  ██║██║ ╚═╝ ██║██║     ███████╗███████╗███████║                   ██║  ██║</a>
<a id="5436" class="Comment">-- ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝     ╚═╝╚═╝     ╚══════╝╚══════╝╚══════╝                   ██║  ██║</a>
<a id="5534" class="Comment">--                                                                                       ██║  ██║</a>
<a id="5632" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="5730" class="Comment">-- You can ignore this bit! We&#39;re just overloading the literals Agda uses for --         ██║  ██║</a>
<a id="5828" class="Comment">-- numbers This bit isn&#39;t necessary if you&#39;re just using Nats, or if you      --         ██║  ██║</a>
<a id="5926" class="Comment">-- construct your type directly. We only really do it here so that we can use --         ██║  ██║</a>
<a id="6024" class="Comment">-- different numeric types in the same file.                                  --         ██║  ██║</a>
                                                                              <a id="6200" class="Comment">--         ██║  ██║</a>
<a id="6220" class="Keyword">open</a> <a id="6225" class="Keyword">import</a> <a id="6232" href="Agda.Builtin.FromNat.html" class="Module">Agda.Builtin.FromNat</a>                                              <a id="6298" class="Comment">--         ██║  ██║</a>
<a id="6318" class="Keyword">open</a> <a id="6323" class="Keyword">import</a> <a id="6330" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="6339" class="Keyword">using</a> <a id="6345" class="Symbol">(</a><a id="6346" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="6347" class="Symbol">)</a>                                                <a id="6396" class="Comment">--         ██║  ██║</a>
<a id="6416" class="Keyword">open</a> <a id="6421" class="Keyword">import</a> <a id="6428" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="6441" class="Keyword">using</a> <a id="6447" class="Symbol">(</a><a id="6448" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a><a id="6449" class="Symbol">)</a>                                            <a id="6494" class="Comment">--         ██║  ██║</a>
                                                                              <a id="6592" class="Comment">--         ██║  ██║</a>
<a id="6612" class="Keyword">instance</a>                                                                      <a id="6690" class="Comment">--         ██║  ██║</a>
  <a id="numberNat"></a><a id="6712" href="README.html#6712" class="Function">numberNat</a> <a id="6722" class="Symbol">:</a> <a id="6724" href="Agda.Builtin.FromNat.html#170" class="Record">Number</a> <a id="6731" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>                                                        <a id="6788" class="Comment">--         ██║  ██║</a>
  <a id="6810" href="README.html#6712" class="Function">numberNat</a> <a id="6820" class="Symbol">=</a> <a id="6822" href="Data.Nat.Literals.html#353" class="Function">Data.Nat.Literals.number</a>                                        <a id="6886" class="Comment">--         ██║  ██║</a>
    <a id="6910" class="Keyword">where</a> <a id="6916" class="Keyword">import</a> <a id="6923" href="Data.Nat.Literals.html" class="Module">Data.Nat.Literals</a>                                            <a id="6984" class="Comment">--         ██║  ██║</a>
                                                                              <a id="7082" class="Comment">--         ██║  ██║</a>
<a id="7102" class="Keyword">instance</a>                                                                      <a id="7180" class="Comment">--         ██║  ██║</a>
  <a id="numberInt"></a><a id="7202" href="README.html#7202" class="Function">numberInt</a> <a id="7212" class="Symbol">:</a> <a id="7214" href="Agda.Builtin.FromNat.html#170" class="Record">Number</a> <a id="7221" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a>                                                        <a id="7278" class="Comment">--         ██║  ██║</a>
  <a id="7300" href="README.html#7202" class="Function">numberInt</a> <a id="7310" class="Symbol">=</a> <a id="7312" href="Data.Integer.Literals.html#386" class="Function">Data.Integer.Literals.number</a>                                    <a id="7376" class="Comment">--         ██║  ██║</a>
    <a id="7400" class="Keyword">where</a> <a id="7406" class="Keyword">import</a> <a id="7413" href="Data.Integer.Literals.html" class="Module">Data.Integer.Literals</a>                                        <a id="7474" class="Comment">--         ██║  ██║</a>
                                                                              <a id="7572" class="Comment">--         ██║  ██║</a>
<a id="7592" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="7690" class="Comment">-- Imports!                                                                   --         ██║  ██║</a>
                                                                              <a id="7866" class="Comment">--         ██║  ██║</a>
<a id="7886" class="Keyword">open</a> <a id="7891" class="Keyword">import</a> <a id="7898" href="Polynomial.Simple.AlmostCommutativeRing.html" class="Module">Polynomial.Simple.AlmostCommutativeRing</a>                           <a id="7964" class="Comment">--         ██║  ██║</a>
<a id="7984" class="Keyword">open</a> <a id="7989" class="Keyword">import</a> <a id="7996" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html" class="Module">Polynomial.Simple.AlmostCommutativeRing.Instances</a>                 <a id="8062" class="Comment">--         ██║  ██║</a>
<a id="8082" class="Keyword">open</a> <a id="8087" class="Keyword">import</a> <a id="8094" href="Polynomial.Simple.Reflection.html" class="Module">Polynomial.Simple.Reflection</a>                                      <a id="8160" class="Comment">--         ██║  ██║</a>
<a id="8180" class="Keyword">open</a> <a id="8185" class="Keyword">import</a> <a id="8192" href="Data.List.html" class="Module">Data.List</a> <a id="8202" class="Symbol">as</a> <a id="8205" class="Module">List</a> <a id="8210" class="Keyword">using</a> <a id="8216" class="Symbol">(</a><a id="8217" href="Agda.Builtin.List.html#121" class="Datatype">List</a><a id="8221" class="Symbol">;</a> <a id="8223" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">_∷_</a><a id="8226" class="Symbol">;</a> <a id="8228" href="Data.List.Base.html#8781" class="InductiveConstructor">[]</a><a id="8230" class="Symbol">)</a>                           <a id="8258" class="Comment">--         ██║  ██║</a>
<a id="8278" class="Keyword">open</a> <a id="8283" class="Keyword">import</a> <a id="8290" href="Function.html" class="Module">Function</a>                                                          <a id="8356" class="Comment">--         ██║  ██║</a>
<a id="8376" class="Keyword">open</a> <a id="8381" class="Keyword">import</a> <a id="8388" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="8426" class="Symbol">as</a> <a id="8429" class="Module">≡</a> <a id="8431" class="Keyword">using</a> <a id="8437" class="Symbol">(</a><a id="8438" href="Relation.Binary.PropositionalEquality.Core.html#1017" class="Function">subst</a><a id="8443" class="Symbol">;</a> <a id="8445" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="8448" class="Symbol">)</a>     <a id="8454" class="Comment">--         ██║  ██║</a>
<a id="8474" class="Keyword">open</a> <a id="8479" class="Keyword">import</a> <a id="8486" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="8496" class="Symbol">as</a> <a id="8499" class="Module">Bool</a> <a id="8504" class="Keyword">using</a> <a id="8510" class="Symbol">(</a><a id="8511" href="Agda.Builtin.Bool.html#135" class="Datatype">Bool</a><a id="8515" class="Symbol">;</a> <a id="8517" href="Agda.Builtin.Bool.html#160" class="InductiveConstructor">true</a><a id="8521" class="Symbol">;</a> <a id="8523" href="Agda.Builtin.Bool.html#154" class="InductiveConstructor">false</a><a id="8528" class="Symbol">)</a>                       <a id="8552" class="Comment">--         ██║  ██║</a>
<a id="8572" class="Keyword">open</a> <a id="8577" class="Keyword">import</a> <a id="8584" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="8594" class="Keyword">using</a> <a id="8600" class="Symbol">(</a><a id="8601" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a><a id="8602" class="Symbol">;</a> <a id="8604" href="Agda.Builtin.Unit.html#174" class="InductiveConstructor">tt</a><a id="8606" class="Symbol">)</a>                                           <a id="8650" class="Comment">--         ██║  ██║</a>
<a id="8670" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="8768" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="8866" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="8964" class="Comment">--                           8888888888&#39;,8888&#39;                                --         ██║  ██║</a>
<a id="9062" class="Comment">--                                  ,8&#39;,8888&#39;                                 --         ██║  ██║</a>
<a id="9160" class="Comment">--                                 ,8&#39;,8888&#39;                                  --         ██║  ██║</a>
<a id="9258" class="Comment">--                                ,8&#39;,8888&#39;                                   --         ██║  ██║</a>
<a id="9356" class="Comment">--                               ,8&#39;,8888&#39;                                    --         ██║  ██║</a>
<a id="9454" class="Comment">--                              ,8&#39;,8888&#39;                                     --         ██║  ██║</a>
<a id="9552" class="Comment">--                             ,8&#39;,8888&#39;                                      --         ██║  ██║</a>
<a id="9650" class="Comment">--                            ,8&#39;,8888&#39;                                       --         ██║  ██║</a>
<a id="9748" class="Comment">--                           ,8&#39;,8888&#39;                                        --         ██║  ██║</a>
<a id="9846" class="Comment">--                          ,8&#39;,8888888888888                                 --         ██║  ██║</a>
<a id="9944" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="10042" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="10140" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="10238" class="Keyword">module</a> <a id="IntExamples"></a><a id="10245" href="README.html#10245" class="Module">IntExamples</a> <a id="10257" class="Keyword">where</a>                                                      <a id="10316" class="Comment">--         ██║  ██║</a>
  <a id="10338" class="Keyword">open</a> <a id="10343" href="Polynomial.Simple.AlmostCommutativeRing.html#941" class="Module">AlmostCommutativeRing</a> <a id="10365" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#1095" class="Function">Int.ring</a>                                         <a id="10414" class="Comment">--         ██║  ██║</a>
  <a id="10436" class="Comment">-- Everything is automatic: you just ask Agda to solve it and it does!      --     ██╗ ██║  ██║</a>
  <a id="IntExamples.lemma₁"></a><a id="10534" href="README.html#10534" class="Function">lemma₁</a> <a id="10541" class="Symbol">:</a> <a id="10543" class="Symbol">∀</a> <a id="10545" href="README.html#10545" class="Bound">x</a> <a id="10547" href="README.html#10547" class="Bound">y</a> <a id="10549" class="Symbol">→</a> <a id="10551" href="README.html#10545" class="Bound">x</a> <a id="10553" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10555" href="README.html#10547" class="Bound">y</a> <a id="10557" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="10559" class="Number">1</a> <a id="10561" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10563" class="Number">3</a> <a id="10565" href="Polynomial.Simple.AlmostCommutativeRing.html#1115" class="Function Operator">≈</a> <a id="10567" class="Number">3</a> <a id="10569" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10571" class="Number">1</a> <a id="10573" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10575" href="README.html#10547" class="Bound">y</a> <a id="10577" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10579" href="README.html#10545" class="Bound">x</a> <a id="10581" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10583" href="Polynomial.Simple.AlmostCommutativeRing.html#1243" class="Function Operator">-</a> <a id="10585" class="Number">1</a>                        <a id="10610" class="Comment">--   ████║ ██║  ██║</a>
  <a id="10632" href="README.html#10534" class="Function">lemma₁</a> <a id="10639" class="Symbol">=</a> <a id="10641" href="Polynomial.Simple.Reflection.html#6470" class="Macro">solve</a> <a id="10647" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#1095" class="Function">Int.ring</a>                                                     <a id="10708" class="Comment">-- ██████████║  ██║</a>
                                                                              <a id="10806" class="Comment">--   ████╔═██║  ██║</a>
  <a id="IntExamples.lemma₂"></a><a id="10828" href="README.html#10828" class="Function">lemma₂</a> <a id="10835" class="Symbol">:</a> <a id="10837" class="Symbol">∀</a> <a id="10839" href="README.html#10839" class="Bound">x</a> <a id="10841" href="README.html#10841" class="Bound">y</a> <a id="10843" class="Symbol">→</a> <a id="10845" class="Symbol">(</a><a id="10846" href="README.html#10839" class="Bound">x</a> <a id="10848" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10850" href="README.html#10841" class="Bound">y</a><a id="10851" class="Symbol">)</a> <a id="10853" href="Polynomial.Simple.AlmostCommutativeRing.html#2094" class="Function Operator">^</a> <a id="10855" class="Number">2</a> <a id="10857" href="Polynomial.Simple.AlmostCommutativeRing.html#1115" class="Function Operator">≈</a> <a id="10859" href="README.html#10839" class="Bound">x</a> <a id="10861" href="Polynomial.Simple.AlmostCommutativeRing.html#2094" class="Function Operator">^</a> <a id="10863" class="Number">2</a> <a id="10865" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10867" class="Number">2</a> <a id="10869" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="10871" href="README.html#10839" class="Bound">x</a> <a id="10873" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="10875" href="README.html#10841" class="Bound">y</a> <a id="10877" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="10879" href="README.html#10841" class="Bound">y</a> <a id="10881" href="Polynomial.Simple.AlmostCommutativeRing.html#2094" class="Function Operator">^</a> <a id="10883" class="Number">2</a>                    <a id="10904" class="Comment">--     ██║ ██║  ██║</a>
  <a id="10926" href="README.html#10828" class="Function">lemma₂</a> <a id="10933" class="Symbol">=</a> <a id="10935" href="Polynomial.Simple.Reflection.html#6470" class="Macro">solve</a> <a id="10941" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#1095" class="Function">Int.ring</a>                                                     <a id="11002" class="Comment">--     ╚═╝ ██║  ██║</a>
                                                                              <a id="11100" class="Comment">--         ██║  ██║</a>
  <a id="11122" class="Keyword">open</a> <a id="11127" class="Keyword">import</a> <a id="11134" href="Relation.Binary.Reasoning.Inference.html" class="Module">Relation.Binary.Reasoning.Inference</a> <a id="11170" href="Algebra.Structures.html#1153" class="Function">setoid</a>                      <a id="11198" class="Comment">--         ██║  ██║</a>
                                                                              <a id="11296" class="Comment">--         ██║  ██║</a>
  <a id="11318" class="Comment">-- It can interact with manual proofs as well.                              --         ██║  ██║</a>
  <a id="IntExamples.lemma₃"></a><a id="11416" href="README.html#11416" class="Function">lemma₃</a> <a id="11423" class="Symbol">:</a> <a id="11425" class="Symbol">∀</a> <a id="11427" href="README.html#11427" class="Bound">x</a> <a id="11429" href="README.html#11429" class="Bound">y</a> <a id="11431" class="Symbol">→</a> <a id="11433" href="README.html#11427" class="Bound">x</a> <a id="11435" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11437" href="README.html#11429" class="Bound">y</a> <a id="11439" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="11441" class="Number">1</a> <a id="11443" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11445" class="Number">3</a> <a id="11447" href="Polynomial.Simple.AlmostCommutativeRing.html#1115" class="Function Operator">≈</a> <a id="11449" class="Number">2</a> <a id="11451" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11453" class="Number">1</a> <a id="11455" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11457" href="README.html#11429" class="Bound">y</a> <a id="11459" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11461" href="README.html#11427" class="Bound">x</a>                              <a id="11492" class="Comment">--         ██║  ██║</a>
  <a id="11514" href="README.html#11416" class="Function">lemma₃</a> <a id="11521" href="README.html#11521" class="Bound">x</a> <a id="11523" href="README.html#11523" class="Bound">y</a> <a id="11525" class="Symbol">=</a> <a id="11527" href="Relation.Binary.Reasoning.Inference.html#1088" class="Function Operator">begin</a>                                                          <a id="11590" class="Comment">--         ██║  ██║</a>
    <a id="11614" href="README.html#11521" class="Bound">x</a> <a id="11616" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11618" href="README.html#11523" class="Bound">y</a> <a id="11620" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="11622" class="Number">1</a> <a id="11624" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11626" class="Number">3</a> <a id="11628" href="Relation.Binary.Reasoning.Inference.html#1154" class="Function">≈⟨</a> <a id="11631" href="Algebra.Structures.html#2499" class="Function">+-comm</a> <a id="11638" href="README.html#11521" class="Bound">x</a> <a id="11640" class="Symbol">(</a><a id="11641" href="README.html#11523" class="Bound">y</a> <a id="11643" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="11645" class="Number">1</a><a id="11646" class="Symbol">)</a> <a id="11648" href="Function.html#3688" class="Function Operator">⟨</a> <a id="11650" href="Algebra.Structures.html#1078" class="Function">+-cong</a> <a id="11657" href="Function.html#3688" class="Function Operator">⟩</a> <a id="11659" href="Polynomial.Simple.AlmostCommutativeRing.html#2172" class="Function">refl</a> <a id="11664" href="Relation.Binary.Reasoning.Inference.html#1154" class="Function">⟩</a>                       <a id="11688" class="Comment">--         ██║  ██║</a>
    <a id="11712" href="README.html#11523" class="Bound">y</a> <a id="11714" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="11716" class="Number">1</a> <a id="11718" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11720" href="README.html#11521" class="Bound">x</a> <a id="11722" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11724" class="Number">3</a> <a id="11726" href="Relation.Binary.Reasoning.Inference.html#1154" class="Function">≈⟨</a> <a id="11729" href="Polynomial.Simple.Reflection.html#8979" class="Macro">solveOver</a> <a id="11739" class="Symbol">(</a><a id="11740" href="README.html#11521" class="Bound">x</a> <a id="11742" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="11744" href="README.html#11523" class="Bound">y</a> <a id="11746" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="11748" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="11750" class="Symbol">)</a> <a id="11752" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#1095" class="Function">Int.ring</a> <a id="11761" href="Relation.Binary.Reasoning.Inference.html#1154" class="Function">⟩</a>                        <a id="11786" class="Comment">--         ██║  ██║</a>
    <a id="11810" class="Number">3</a> <a id="11812" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11814" href="README.html#11523" class="Bound">y</a> <a id="11816" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11818" href="README.html#11521" class="Bound">x</a>     <a id="11824" href="Relation.Binary.Reasoning.Inference.html#1742" class="Function Operator">≡⟨⟩</a>                                                         <a id="11884" class="Comment">--         ██║  ██║</a>
    <a id="11908" class="Number">2</a> <a id="11910" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11912" class="Number">1</a> <a id="11914" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11916" href="README.html#11523" class="Bound">y</a> <a id="11918" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="11920" href="README.html#11521" class="Bound">x</a> <a id="11922" href="Relation.Binary.Reasoning.Inference.html#1825" class="Function Operator">∎</a>                                                           <a id="11982" class="Comment">--         ██║  ██║</a>
                                                                              <a id="12080" class="Comment">--         ██║  ██║</a>
  <a id="12102" class="Keyword">open</a> <a id="12107" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#1245" class="Module">Int.Reflection</a>                                                         <a id="12178" class="Comment">--         ██║  ██║</a>
                                                                              <a id="12276" class="Comment">--         ██║  ██║</a>
  <a id="12298" class="Comment">-- There&#39;s a shorthand included for Int and Nat.                            --         ██║  ██║</a>
  <a id="IntExamples.lemma₄"></a><a id="12396" href="README.html#12396" class="Function">lemma₄</a> <a id="12403" class="Symbol">:</a> <a id="12405" class="Symbol">∀</a> <a id="12407" href="README.html#12407" class="Bound">x</a> <a id="12409" href="README.html#12409" class="Bound">y</a> <a id="12411" class="Symbol">→</a> <a id="12413" href="README.html#12407" class="Bound">x</a> <a id="12415" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12417" href="README.html#12409" class="Bound">y</a> <a id="12419" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="12421" class="Number">1</a> <a id="12423" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12425" class="Number">3</a> <a id="12427" href="Polynomial.Simple.AlmostCommutativeRing.html#1115" class="Function Operator">≈</a> <a id="12429" class="Number">2</a> <a id="12431" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12433" class="Number">1</a> <a id="12435" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12437" href="README.html#12409" class="Bound">y</a> <a id="12439" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12441" href="README.html#12407" class="Bound">x</a>                              <a id="12472" class="Comment">--         ██║  ██║</a>
  <a id="12494" href="README.html#12396" class="Function">lemma₄</a> <a id="12501" href="README.html#12501" class="Bound">x</a> <a id="12503" href="README.html#12503" class="Bound">y</a> <a id="12505" class="Symbol">=</a> <a id="12507" href="Relation.Binary.Reasoning.Inference.html#1088" class="Function Operator">begin</a>                                                          <a id="12570" class="Comment">--         ██║  ██║</a>
    <a id="12594" href="README.html#12501" class="Bound">x</a> <a id="12596" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12598" href="README.html#12503" class="Bound">y</a> <a id="12600" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="12602" class="Number">1</a> <a id="12604" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12606" class="Number">3</a> <a id="12608" href="Relation.Binary.Reasoning.Inference.html#1154" class="Function">≈⟨</a> <a id="12611" href="Algebra.Structures.html#2499" class="Function">+-comm</a> <a id="12618" href="README.html#12501" class="Bound">x</a> <a id="12620" class="Symbol">(</a><a id="12621" href="README.html#12503" class="Bound">y</a> <a id="12623" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="12625" class="Number">1</a><a id="12626" class="Symbol">)</a> <a id="12628" href="Function.html#3688" class="Function Operator">⟨</a> <a id="12630" href="Algebra.Structures.html#1078" class="Function">+-cong</a> <a id="12637" href="Function.html#3688" class="Function Operator">⟩</a> <a id="12639" href="Polynomial.Simple.AlmostCommutativeRing.html#2172" class="Function">refl</a> <a id="12644" href="Relation.Binary.Reasoning.Inference.html#1154" class="Function">⟩</a>                       <a id="12668" class="Comment">--         ██║  ██║</a>
    <a id="12692" href="README.html#12503" class="Bound">y</a> <a id="12694" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="12696" class="Number">1</a> <a id="12698" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12700" href="README.html#12501" class="Bound">x</a> <a id="12702" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12704" class="Number">3</a> <a id="12706" href="Relation.Binary.Reasoning.Inference.html#1154" class="Function">≈⟨</a> <a id="12709" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#1384" class="Macro Operator">∀⟨</a> <a id="12712" href="README.html#12501" class="Bound">x</a> <a id="12714" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="12716" href="README.html#12503" class="Bound">y</a> <a id="12718" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="12720" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="12723" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#1384" class="Macro Operator">⟩</a> <a id="12725" href="Relation.Binary.Reasoning.Inference.html#1154" class="Function">⟩</a>                                        <a id="12766" class="Comment">--         ██║  ██║</a>
    <a id="12790" class="Number">3</a> <a id="12792" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12794" href="README.html#12503" class="Bound">y</a> <a id="12796" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12798" href="README.html#12501" class="Bound">x</a>     <a id="12804" href="Relation.Binary.Reasoning.Inference.html#1742" class="Function Operator">≡⟨⟩</a>                                                         <a id="12864" class="Comment">--         ██║  ██║</a>
    <a id="12888" class="Number">2</a> <a id="12890" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12892" class="Number">1</a> <a id="12894" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12896" href="README.html#12503" class="Bound">y</a> <a id="12898" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="12900" href="README.html#12501" class="Bound">x</a> <a id="12902" href="Relation.Binary.Reasoning.Inference.html#1825" class="Function Operator">∎</a>                                                           <a id="12962" class="Comment">--         ██║  ██║</a>
<a id="12982" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="13080" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="13178" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="13276" class="Comment">--                          b.             8                                  --         ██║  ██║</a>
<a id="13374" class="Comment">--                          888o.          8                                  --         ██║  ██║</a>
<a id="13472" class="Comment">--                          Y88888o.       8                                  --         ██║  ██║</a>
<a id="13570" class="Comment">--                          .`Y888888o.    8                                  --         ██║  ██║</a>
<a id="13668" class="Comment">--                          8o. `Y888888o. 8                                  --         ██║  ██║</a>
<a id="13766" class="Comment">--                          8`Y8o. `Y88888o8                                  --         ██║  ██║</a>
<a id="13864" class="Comment">--                          8   `Y8o. `Y8888                                  --         ██║  ██║</a>
<a id="13962" class="Comment">--                          8      `Y8o. `Y8                                  --         ██║  ██║</a>
<a id="14060" class="Comment">--                          8         `Y8o.`                                  --         ██║  ██║</a>
<a id="14158" class="Comment">--                          8            `Yo                                  --         ██║  ██║</a>
<a id="14256" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="14354" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="14452" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="14550" class="Keyword">module</a> <a id="NatExamples"></a><a id="14557" href="README.html#14557" class="Module">NatExamples</a> <a id="14569" class="Keyword">where</a>                                                      <a id="14628" class="Comment">--         ██║  ██║</a>
  <a id="14650" class="Keyword">open</a> <a id="14655" href="Polynomial.Simple.AlmostCommutativeRing.html#941" class="Module">AlmostCommutativeRing</a> <a id="14677" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#458" class="Function">Nat.ring</a>                                         <a id="14726" class="Comment">--     ██╗ ██║  ██║</a>
  <a id="14748" class="Comment">-- The solver is flexible enough to work with Nats (even though it asks     --   ████║ ██║  ██║</a>
  <a id="14846" class="Comment">-- for rings!)                                                              -- ██████████║  ██║</a>
  <a id="NatExamples.lemma₁"></a><a id="14944" href="README.html#14944" class="Function">lemma₁</a> <a id="14951" class="Symbol">:</a> <a id="14953" class="Symbol">∀</a> <a id="14955" href="README.html#14955" class="Bound">x</a> <a id="14957" href="README.html#14957" class="Bound">y</a> <a id="14959" class="Symbol">→</a> <a id="14961" href="README.html#14955" class="Bound">x</a> <a id="14963" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="14965" href="README.html#14957" class="Bound">y</a> <a id="14967" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="14969" class="Number">1</a> <a id="14971" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="14973" class="Number">3</a> <a id="14975" href="Polynomial.Simple.AlmostCommutativeRing.html#1115" class="Function Operator">≈</a> <a id="14977" class="Number">2</a> <a id="14979" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="14981" class="Number">1</a> <a id="14983" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="14985" href="README.html#14957" class="Bound">y</a> <a id="14987" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="14989" href="README.html#14955" class="Bound">x</a>                              <a id="15020" class="Comment">--   ████╔═██║  ██║</a>
  <a id="15042" href="README.html#14944" class="Function">lemma₁</a> <a id="15049" class="Symbol">=</a> <a id="15051" href="Polynomial.Simple.Reflection.html#6470" class="Macro">solve</a> <a id="15057" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#458" class="Function">Nat.ring</a>                                                     <a id="15118" class="Comment">--     ██║ ██║  ██║</a>
<a id="15138" class="Comment">--                                                                            --     ╚═╝ ██║  ██║</a>
<a id="15236" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="15334" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="15432" class="Comment">--          #####  #     # #######  #####  #    # ### #     #  #####          --         ██║  ██║</a>
<a id="15530" class="Comment">--         #     # #     # #       #     # #   #   #  ##    # #     #         --         ██║  ██║</a>
<a id="15628" class="Comment">--         #       #     # #       #       #  #    #  # #   # #               --         ██║  ██║</a>
<a id="15726" class="Comment">--         #       ####### #####   #       ###     #  #  #  # #  ####         --         ██║  ██║</a>
<a id="15824" class="Comment">--         #       #     # #       #       #  #    #  #   # # #     #         --         ██║  ██║</a>
<a id="15922" class="Comment">--         #     # #     # #       #     # #   #   #  #    ## #     #         --         ██║  ██║</a>
<a id="16020" class="Comment">--          #####  #     # #######  #####  #    # ### #     #  #####          --         ██║  ██║</a>
<a id="16118" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="16216" class="Comment">--   ### #     # #     #    #    ######  ###    #    #     # #######  #####   --         ██║  ██║</a>
<a id="16314" class="Comment">--    #  ##    # #     #   # #   #     #  #    # #   ##    #    #    #     #  --         ██║  ██║</a>
<a id="16412" class="Comment">--    #  # #   # #     #  #   #  #     #  #   #   #  # #   #    #    #        --         ██║  ██║</a>
<a id="16510" class="Comment">--    #  #  #  # #     # #     # ######   #  #     # #  #  #    #     #####   --         ██║  ██║</a>
<a id="16608" class="Comment">--    #  #   # #  #   #  ####### #   #    #  ####### #   # #    #          #  --         ██║  ██║</a>
<a id="16706" class="Comment">--    #  #    ##   # #   #     # #    #   #  #     # #    ##    #    #     #  --         ██║  ██║</a>
<a id="16804" class="Comment">--   ### #     #    #    #     # #     # ### #     # #     #    #     #####   --         ██║  ██║</a>
<a id="16902" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="17000" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="17098" class="Comment">-- The solver makes it easy to prove invariants, without having to rewrite    --         ██║  ██║</a>
<a id="17196" class="Comment">-- proof code every time something changes in the data structure.             --         ██║  ██║</a>
<a id="17294" class="Comment">--                                                                            --         ██║  ██║</a>
  <a id="17394" class="Keyword">module</a> <a id="17401" href="README.html#17401" class="Module">_</a> <a id="17403" class="Symbol">{</a><a id="17404" href="README.html#17404" class="Bound">a</a><a id="17405" class="Symbol">}</a> <a id="17407" class="Symbol">{</a><a id="17408" href="README.html#17408" class="Bound">A</a> <a id="17410" class="Symbol">:</a> <a id="17412" class="PrimitiveType">Set</a> <a id="17416" href="README.html#17404" class="Bound">a</a><a id="17417" class="Symbol">}</a> <a id="17419" class="Symbol">(</a><a id="17420" href="README.html#17420" class="Bound Operator">_≤_</a> <a id="17424" class="Symbol">:</a> <a id="17426" href="README.html#17408" class="Bound">A</a> <a id="17428" class="Symbol">→</a> <a id="17430" href="README.html#17408" class="Bound">A</a> <a id="17432" class="Symbol">→</a> <a id="17434" href="Agda.Builtin.Bool.html#135" class="Datatype">Bool</a><a id="17438" class="Symbol">)</a> <a id="17440" class="Keyword">where</a>                         <a id="17470" class="Comment">--         ██║  ██║</a>
   <a id="17493" class="Comment">-- A Skew Heap, indexed by its size.                                       --         ██║  ██║</a>
   <a id="17591" class="Keyword">data</a> <a id="17596" href="README.html#17596" class="Datatype">Tree</a> <a id="17601" class="Symbol">:</a> <a id="17603" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="17605" class="Symbol">→</a> <a id="17607" class="PrimitiveType">Set</a> <a id="17611" href="README.html#17404" class="Bound">a</a> <a id="17613" class="Keyword">where</a>                                                <a id="17666" class="Comment">--         ██║  ██║</a>
     <a id="17691" href="README.html#17691" class="InductiveConstructor">leaf</a> <a id="17696" class="Symbol">:</a> <a id="17698" href="README.html#17596" class="Datatype">Tree</a> <a id="17703" class="Number">0</a>                                                            <a id="17764" class="Comment">--         ██║  ██║</a>
     <a id="17789" href="README.html#17789" class="InductiveConstructor">node</a> <a id="17794" class="Symbol">:</a> <a id="17796" class="Symbol">∀</a> <a id="17798" class="Symbol">{</a><a id="17799" href="README.html#17799" class="Bound">n</a> <a id="17801" href="README.html#17801" class="Bound">m</a><a id="17802" class="Symbol">}</a> <a id="17804" class="Symbol">→</a> <a id="17806" href="README.html#17408" class="Bound">A</a> <a id="17808" class="Symbol">→</a> <a id="17810" href="README.html#17596" class="Datatype">Tree</a> <a id="17815" href="README.html#17799" class="Bound">n</a> <a id="17817" class="Symbol">→</a> <a id="17819" href="README.html#17596" class="Datatype">Tree</a> <a id="17824" href="README.html#17801" class="Bound">m</a> <a id="17826" class="Symbol">→</a> <a id="17828" href="README.html#17596" class="Datatype">Tree</a> <a id="17833" class="Symbol">(</a><a id="17834" href="README.html#17799" class="Bound">n</a> <a id="17836" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="17838" href="README.html#17801" class="Bound">m</a> <a id="17840" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="17842" class="Number">1</a><a id="17843" class="Symbol">)</a>                  <a id="17862" class="Comment">--         ██║  ██║</a>
                                                                              <a id="17960" class="Comment">--         ██║  ██║</a>
   <a id="17983" class="Comment">-- A substitution operator, to clean things up.                            --         ██║  ██║</a>
   <a id="18081" href="README.html#18081" class="Function Operator">_⇒_</a> <a id="18085" class="Symbol">:</a> <a id="18087" class="Symbol">∀</a> <a id="18089" class="Symbol">{</a><a id="18090" href="README.html#18090" class="Bound">n</a><a id="18091" class="Symbol">}</a> <a id="18093" class="Symbol">→</a> <a id="18095" href="README.html#17596" class="Datatype">Tree</a> <a id="18100" href="README.html#18090" class="Bound">n</a> <a id="18102" class="Symbol">→</a> <a id="18104" class="Symbol">∀</a> <a id="18106" class="Symbol">{</a><a id="18107" href="README.html#18107" class="Bound">m</a><a id="18108" class="Symbol">}</a> <a id="18110" class="Symbol">→</a> <a id="18112" href="README.html#18090" class="Bound">n</a> <a id="18114" href="Polynomial.Simple.AlmostCommutativeRing.html#1115" class="Function Operator">≈</a> <a id="18116" href="README.html#18107" class="Bound">m</a> <a id="18118" class="Symbol">→</a> <a id="18120" href="README.html#17596" class="Datatype">Tree</a> <a id="18125" href="README.html#18107" class="Bound">m</a>                              <a id="18156" class="Comment">--         ██║  ██║</a>
   <a id="18179" href="README.html#18179" class="Bound">x</a> <a id="18181" href="README.html#18081" class="Function Operator">⇒</a> <a id="18183" href="README.html#18183" class="Bound">n≈m</a>  <a id="18188" class="Symbol">=</a> <a id="18190" href="Relation.Binary.PropositionalEquality.Core.html#1017" class="Function">subst</a> <a id="18196" href="README.html#17596" class="Datatype">Tree</a> <a id="18201" href="README.html#18183" class="Bound">n≈m</a> <a id="18205" href="README.html#18179" class="Bound">x</a>                                                <a id="18254" class="Comment">--         ██║  ██║</a>
                                                                              <a id="18352" class="Comment">--         ██║  ██║</a>
   <a id="18375" class="Keyword">open</a> <a id="18380" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#612" class="Module">Nat.Reflection</a>                                                        <a id="18450" class="Comment">--         ██║  ██║</a>
                                                                              <a id="18548" class="Comment">--         ██║  ██║</a>
   <a id="18571" href="README.html#18571" class="Function Operator">_∪_</a> <a id="18575" class="Symbol">:</a> <a id="18577" class="Symbol">∀</a> <a id="18579" class="Symbol">{</a><a id="18580" href="README.html#18580" class="Bound">n</a> <a id="18582" href="README.html#18582" class="Bound">m</a><a id="18583" class="Symbol">}</a> <a id="18585" class="Symbol">→</a> <a id="18587" href="README.html#17596" class="Datatype">Tree</a> <a id="18592" href="README.html#18580" class="Bound">n</a> <a id="18594" class="Symbol">→</a> <a id="18596" href="README.html#17596" class="Datatype">Tree</a> <a id="18601" href="README.html#18582" class="Bound">m</a> <a id="18603" class="Symbol">→</a> <a id="18605" href="README.html#17596" class="Datatype">Tree</a> <a id="18610" class="Symbol">(</a><a id="18611" href="README.html#18580" class="Bound">n</a> <a id="18613" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="18615" href="README.html#18582" class="Bound">m</a><a id="18616" class="Symbol">)</a>                             <a id="18646" class="Comment">--         ██║  ██║</a>
   <a id="18669" href="README.html#17691" class="InductiveConstructor">leaf</a> <a id="18674" href="README.html#18571" class="Function Operator">∪</a> <a id="18676" href="README.html#18676" class="Bound">ys</a> <a id="18679" class="Symbol">=</a> <a id="18681" href="README.html#18676" class="Bound">ys</a>                                                             <a id="18744" class="Comment">--         ██║  ██║</a>
   <a id="18767" href="README.html#17789" class="InductiveConstructor">node</a> <a id="18772" class="Symbol">{</a><a id="18773" href="README.html#18773" class="Bound">a</a><a id="18774" class="Symbol">}</a> <a id="18776" class="Symbol">{</a><a id="18777" href="README.html#18777" class="Bound">b</a><a id="18778" class="Symbol">}</a> <a id="18780" href="README.html#18780" class="Bound">x</a> <a id="18782" href="README.html#18782" class="Bound">xl</a> <a id="18785" href="README.html#18785" class="Bound">xr</a> <a id="18788" href="README.html#18571" class="Function Operator">∪</a> <a id="18790" href="README.html#17691" class="InductiveConstructor">leaf</a> <a id="18795" class="Symbol">=</a>                                              <a id="18842" class="Comment">--         ██║  ██║</a>
     <a id="18867" href="README.html#17789" class="InductiveConstructor">node</a> <a id="18872" href="README.html#18780" class="Bound">x</a> <a id="18874" href="README.html#18782" class="Bound">xl</a> <a id="18877" href="README.html#18785" class="Bound">xr</a> <a id="18880" href="README.html#18081" class="Function Operator">⇒</a> <a id="18882" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#751" class="Macro Operator">∀⟨</a> <a id="18885" href="README.html#18773" class="Bound">a</a> <a id="18887" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="18889" href="README.html#18777" class="Bound">b</a> <a id="18891" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="18893" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="18896" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#751" class="Macro Operator">⟩</a>                                           <a id="18940" class="Comment">--     ██╗ ██║  ██║</a>
   <a id="18963" href="README.html#17789" class="InductiveConstructor">node</a> <a id="18968" class="Symbol">{</a><a id="18969" href="README.html#18969" class="Bound">a</a><a id="18970" class="Symbol">}</a> <a id="18972" class="Symbol">{</a><a id="18973" href="README.html#18973" class="Bound">b</a><a id="18974" class="Symbol">}</a> <a id="18976" href="README.html#18976" class="Bound">x</a> <a id="18978" href="README.html#18978" class="Bound">xl</a> <a id="18981" href="README.html#18981" class="Bound">xr</a> <a id="18984" href="README.html#18571" class="Function Operator">∪</a> <a id="18986" href="README.html#17789" class="InductiveConstructor">node</a> <a id="18991" class="Symbol">{</a><a id="18992" href="README.html#18992" class="Bound">c</a><a id="18993" class="Symbol">}</a> <a id="18995" class="Symbol">{</a><a id="18996" href="README.html#18996" class="Bound">d</a><a id="18997" class="Symbol">}</a> <a id="18999" href="README.html#18999" class="Bound">y</a> <a id="19001" href="README.html#19001" class="Bound">yl</a> <a id="19004" href="README.html#19004" class="Bound">yr</a> <a id="19007" class="Keyword">with</a> <a id="19012" href="README.html#18976" class="Bound">x</a> <a id="19014" href="README.html#17420" class="Bound Operator">≤</a> <a id="19016" href="README.html#18999" class="Bound">y</a>                     <a id="19038" class="Comment">--   ████║ ██║  ██║</a>
   <a id="19061" class="Symbol">...</a> <a id="19065" class="Symbol">|</a> <a id="19067" href="Agda.Builtin.Bool.html#160" class="InductiveConstructor">true</a>  <a id="19073" class="Symbol">=</a> <a id="19075" href="README.html#17789" class="InductiveConstructor">node</a> <a id="19080" class="Bound">x</a> <a id="19082" class="Symbol">(</a><a id="19083" href="README.html#17789" class="InductiveConstructor">node</a> <a id="19088" class="Bound">y</a> <a id="19090" class="Bound">yl</a> <a id="19093" class="Bound">yr</a> <a id="19096" href="README.html#18571" class="Function Operator">∪</a> <a id="19098" class="Bound">xr</a><a id="19100" class="Symbol">)</a> <a id="19102" class="Bound">xl</a>                                <a id="19136" class="Comment">-- ██████████║  ██║</a>
                   <a id="19175" href="README.html#18081" class="Function Operator">⇒</a> <a id="19177" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#751" class="Macro Operator">∀⟨</a> <a id="19180" class="Bound">a</a> <a id="19182" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="19184" class="Bound">b</a> <a id="19186" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="19188" class="Bound">c</a> <a id="19190" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="19192" class="Bound">d</a> <a id="19194" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="19196" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="19199" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#751" class="Macro Operator">⟩</a>                                  <a id="19234" class="Comment">--   ████╔═██║  ██║</a>
   <a id="19257" class="Symbol">...</a> <a id="19261" class="Symbol">|</a> <a id="19263" href="Agda.Builtin.Bool.html#154" class="InductiveConstructor">false</a> <a id="19269" class="Symbol">=</a> <a id="19271" href="README.html#17789" class="InductiveConstructor">node</a> <a id="19276" class="Bound">y</a> <a id="19278" class="Symbol">(</a><a id="19279" href="README.html#17789" class="InductiveConstructor">node</a> <a id="19284" class="Bound">x</a> <a id="19286" class="Bound">xl</a> <a id="19289" class="Bound">xr</a> <a id="19292" href="README.html#18571" class="Function Operator">∪</a> <a id="19294" class="Bound">yr</a><a id="19296" class="Symbol">)</a> <a id="19298" class="Bound">yl</a>                                <a id="19332" class="Comment">--     ██║ ██║  ██║</a>
                   <a id="19371" href="README.html#18081" class="Function Operator">⇒</a> <a id="19373" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#751" class="Macro Operator">∀⟨</a> <a id="19376" class="Bound">a</a> <a id="19378" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="19380" class="Bound">b</a> <a id="19382" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="19384" class="Bound">c</a> <a id="19386" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="19388" class="Bound">d</a> <a id="19390" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="19392" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="19395" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#751" class="Macro Operator">⟩</a>                                  <a id="19430" class="Comment">--     ╚═╝ ██║  ██║</a>
<a id="19450" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="19548" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="19646" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="19744" class="Comment">--             8888888 8888888888 8 8888        8 8 8888888888                --         ██║  ██║</a>
<a id="19842" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║</a>
<a id="19940" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║</a>
<a id="20038" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║</a>
<a id="20136" class="Comment">--                   8 8888       8 8888        8 8 888888888888              --         ██║  ██║</a>
<a id="20234" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║</a>
<a id="20332" class="Comment">--                   8 8888       8 8888888888888 8 8888                      --         ██║  ██║</a>
<a id="20430" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║</a>
<a id="20528" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║</a>
<a id="20626" class="Comment">--                   8 8888       8 8888        8 8 888888888888              --         ██║  ██║</a>
<a id="20724" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="20822" class="Comment">--                 ,o888888o.     8 8888         8 888888888o.                --         ██║  ██║</a>
<a id="20920" class="Comment">--              . 8888     `88.   8 8888         8 8888    `^888.             --         ██║  ██║</a>
<a id="21018" class="Comment">--             ,8 8888       `8b  8 8888         8 8888        `88.           --         ██║  ██║</a>
<a id="21116" class="Comment">--             88 8888        `8b 8 8888         8 8888         `88           --         ██║  ██║</a>
<a id="21214" class="Comment">--             88 8888         88 8 8888         8 8888          88           --         ██║  ██║</a>
<a id="21312" class="Comment">--             88 8888         88 8 8888         8 8888          88           --         ██║  ██║</a>
<a id="21410" class="Comment">--             88 8888        ,8P 8 8888         8 8888         ,88           --         ██║  ██║</a>
<a id="21508" class="Comment">--             `8 8888       ,8P  8 8888         8 8888        ,88&#39;           --         ██║  ██║</a>
<a id="21606" class="Comment">--              ` 8888     ,88&#39;   8 8888         8 8888    ,o88P&#39;             --         ██║  ██║</a>
<a id="21704" class="Comment">--                 `8888888P&#39;     8 888888888888 8 888888888P&#39;                --         ██║  ██║</a>
<a id="21802" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="21900" class="Comment">--             `8.`888b                 ,8&#39; .8.   `8.`8888.      ,8&#39;          --         ██║  ██║</a>
<a id="21998" class="Comment">--              `8.`888b               ,8&#39; .888.   `8.`8888.    ,8&#39;           --         ██║  ██║</a>
<a id="22096" class="Comment">--               `8.`888b             ,8&#39; :88888.   `8.`8888.  ,8&#39;            --         ██║  ██║</a>
<a id="22194" class="Comment">--                `8.`888b     .b    ,8&#39; . `88888.   `8.`8888.,8&#39;             --         ██║  ██║</a>
<a id="22292" class="Comment">--                 `8.`888b    88b  ,8&#39; .8. `88888.   `8.`88888&#39;              --         ██║  ██║</a>
<a id="22390" class="Comment">--                  `8.`888b .`888b,8&#39; .8`8. `88888.   `8. 8888               --         ██║  ██║</a>
<a id="22488" class="Comment">--                   `8.`888b8.`8888&#39; .8&#39; `8. `88888.   `8 8888               --         ██║  ██║</a>
<a id="22586" class="Comment">--                    `8.`888`8.`88&#39; .8&#39;   `8. `88888.   8 8888               --         ██║  ██║</a>
<a id="22684" class="Comment">--                     `8.`8&#39; `8,`&#39; .888888888. `88888.  8 8888               --         ██║  ██║</a>
<a id="22782" class="Comment">--                      `8.`   `8&#39; .8&#39;       `8. `88888. 8 8888               --         ██║  ██║</a>
<a id="22880" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="22978" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="23076" class="Comment">-- Previously, you had to construct the expression you wanted to solve twice: --         ██║  ██║</a>
<a id="23174" class="Comment">-- once in the type signature, and again using the special solver syntax.     --         ██║  ██║</a>
<a id="23272" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="23370" class="Comment">-- This is difficult to learn, and error-prone: if I change an x + y          --         ██║  ██║</a>
<a id="23468" class="Comment">-- somewhere to a y + x, I *also* have to change the proofs now! The          --         ██║  ██║</a>
<a id="23566" class="Comment">-- reflection-based solver will automatically construct the new proof.        --         ██║  ██║</a>
<a id="23664" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="23762" class="Keyword">module</a> <a id="OldSolver"></a><a id="23769" href="README.html#23769" class="Module">OldSolver</a> <a id="23779" class="Keyword">where</a>                                                        <a id="23840" class="Comment">--         ██║  ██║</a>
  <a id="23862" class="Keyword">open</a> <a id="23867" class="Keyword">import</a> <a id="23874" href="Data.Nat.html" class="Module">Data.Nat</a>                                                        <a id="23938" class="Comment">--         ██║  ██║</a>
  <a id="23960" class="Keyword">open</a> <a id="23965" class="Keyword">import</a> <a id="23972" href="Data.Nat.Solver.html" class="Module">Data.Nat.Solver</a> <a id="23988" class="Keyword">using</a> <a id="23994" class="Symbol">(</a><a id="23995" class="Keyword">module</a> <a id="24002" href="Data.Nat.Solver.html#691" class="Module">+-*-Solver</a><a id="24012" class="Symbol">)</a>                       <a id="24036" class="Comment">--         ██║  ██║</a>
  <a id="24058" class="Keyword">open</a> <a id="24063" href="Data.Nat.Solver.html#691" class="Module">+-*-Solver</a>                                                             <a id="24134" class="Comment">--         ██║  ██║</a>
                                                                              <a id="24232" class="Comment">--     ██╗ ██║  ██║</a>
<a id="24252" class="Comment">--lemma : ∀ x y → x + y * 1 + 3 ≡ 2 + 1 + y + x                               --   ████║ ██║  ██║</a>
<a id="24350" class="Comment">--lemma = +-*-Solver.solve 2                                                  -- ██████████║  ██║</a>
<a id="24448" class="Comment">--  (λ x y → x :+ y :* con 1 :+ con 3 := con 2 :+ con 1 :+ y :+ x) ≡.refl     --   ████╔═██║  ██║</a>
<a id="24546" class="Comment">--                                                                            --     ██║ ██║  ██║</a>
<a id="24644" class="Comment">--------------------------------------------------------------------------------     ╚═╝ ██║  ██║</a>
<a id="24742" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="24840" class="Comment">--          d888888o.   8888888 8888888888 8 8888888888   8 888888888o        --         ██║  ██║</a>
<a id="24938" class="Comment">--        .`8888:&#39; `88.       8 8888       8 8888         8 8888    `88.      --         ██║  ██║</a>
<a id="25036" class="Comment">--        8.`8888.   Y8       8 8888       8 8888         8 8888     `88      --         ██║  ██║</a>
<a id="25134" class="Comment">--        `8.`8888.           8 8888       8 8888         8 8888     ,88      --         ██║  ██║</a>
<a id="25232" class="Comment">--         `8.`8888.          8 8888       8 888888888888 8 8888.   ,88&#39;      --         ██║  ██║</a>
<a id="25330" class="Comment">--          `8.`8888.         8 8888       8 8888         8 888888888P&#39;       --         ██║  ██║</a>
<a id="25428" class="Comment">--           `8.`8888.        8 8888       8 8888         8 8888              --         ██║  ██║</a>
<a id="25526" class="Comment">--       8b   `8.`8888.       8 8888       8 8888         8 8888              --         ██║  ██║</a>
<a id="25624" class="Comment">--       `8b.  ;8.`8888       8 8888       8 8888         8 8888              --         ██║  ██║</a>
<a id="25722" class="Comment">--        `Y8888P ,88P&#39;       8 8888       8 888888888888 8 8888              --         ██║  ██║</a>
<a id="25820" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="25918" class="Comment">--                      8 888888888o   `8.`8888.      ,8&#39;                     --         ██║  ██║</a>
<a id="26016" class="Comment">--                      8 8888    `88.  `8.`8888.    ,8&#39;                      --         ██║  ██║</a>
<a id="26114" class="Comment">--                      8 8888     `88   `8.`8888.  ,8&#39;                       --         ██║  ██║</a>
<a id="26212" class="Comment">--                      8 8888     ,88    `8.`8888.,8&#39;                        --         ██║  ██║</a>
<a id="26310" class="Comment">--                      8 8888.   ,88&#39;     `8.`88888&#39;                         --         ██║  ██║</a>
<a id="26408" class="Comment">--                      8 8888888888        `8. 8888                          --         ██║  ██║</a>
<a id="26506" class="Comment">--                      8 8888    `88.       `8 8888                          --         ██║  ██║</a>
<a id="26604" class="Comment">--                      8 8888      88        8 8888                          --         ██║  ██║</a>
<a id="26702" class="Comment">--                      8 8888    ,88&#39;        8 8888                          --         ██║  ██║</a>
<a id="26800" class="Comment">--                      8 888888888P          8 8888                          --         ██║  ██║</a>
<a id="26898" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="26996" class="Comment">--          d888888o.   8888888 8888888888 8 8888888888   8 888888888o        --         ██║  ██║</a>
<a id="27094" class="Comment">--        .`8888:&#39; `88.       8 8888       8 8888         8 8888    `88.      --         ██║  ██║</a>
<a id="27192" class="Comment">--        8.`8888.   Y8       8 8888       8 8888         8 8888     `88      --         ██║  ██║</a>
<a id="27290" class="Comment">--        `8.`8888.           8 8888       8 8888         8 8888     ,88      --         ██║  ██║</a>
<a id="27388" class="Comment">--         `8.`8888.          8 8888       8 888888888888 8 8888.   ,88&#39;      --         ██║  ██║</a>
<a id="27486" class="Comment">--          `8.`8888.         8 8888       8 8888         8 888888888P&#39;       --         ██║  ██║</a>
<a id="27584" class="Comment">--           `8.`8888.        8 8888       8 8888         8 8888              --         ██║  ██║</a>
<a id="27682" class="Comment">--       8b   `8.`8888.       8 8888       8 8888         8 8888              --         ██║  ██║</a>
<a id="27780" class="Comment">--       `8b.  ;8.`8888       8 8888       8 8888         8 8888              --         ██║  ██║</a>
<a id="27878" class="Comment">--        `Y8888P ,88P&#39;       8 8888       8 888888888888 8 8888              --         ██║  ██║</a>
<a id="27976" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="28074" class="Comment">--------------------------------------------------------------------------------         ██║  ██║</a>
<a id="28172" class="Comment">-- Don&#39;t understand why something works? Wanna get it explained to you? Now   --         ██║  ██║</a>
<a id="28270" class="Comment">-- you can! The solver can generate step-by-step, human-readable solutions    --         ██║  ██║</a>
<a id="28368" class="Comment">-- for learning purposes.                                                     --         ██║  ██║</a>
<a id="28466" class="Comment">--                                                                            --         ██║  ██║</a>
<a id="28564" class="Keyword">module</a> <a id="TracedExamples"></a><a id="28571" href="README.html#28571" class="Module">TracedExamples</a> <a id="28586" class="Keyword">where</a>                                                   <a id="28642" class="Comment">--         ██║  ██║</a>
  <a id="28664" class="Keyword">import</a> <a id="28671" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>                                                        <a id="28740" class="Comment">--         ██║  ██║</a>
  <a id="28762" class="Keyword">open</a> <a id="28767" class="Keyword">import</a> <a id="28774" href="EqBool.html" class="Module">EqBool</a>                                                          <a id="28838" class="Comment">--         ██║  ██║</a>
  <a id="28860" class="Keyword">open</a> <a id="28865" class="Keyword">import</a> <a id="28872" href="Relation.Traced.html" class="Module">Relation.Traced</a> <a id="28888" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#458" class="Function">Nat.ring</a>  <a id="28898" href="Data.Nat.Show.html#1075" class="Function">Data.Nat.Show.show</a> <a id="28917" class="Keyword">public</a>             <a id="28936" class="Comment">--         ██║  ██║</a>
  <a id="28958" class="Keyword">open</a> <a id="28963" href="Polynomial.Simple.AlmostCommutativeRing.html#941" class="Module">AlmostCommutativeRing</a> <a id="28985" href="Relation.Traced.html#6323" class="Function">tracedRing</a>                                       <a id="29034" class="Comment">--         ██║  ██║</a>
                                                                              <a id="29132" class="Comment">--         ██║  ██║</a>
  <a id="TracedExamples.lemma"></a><a id="29154" href="README.html#29154" class="Function">lemma</a> <a id="29160" class="Symbol">:</a> <a id="29162" class="Symbol">∀</a> <a id="29164" href="README.html#29164" class="Bound">x</a> <a id="29166" href="README.html#29166" class="Bound">y</a> <a id="29168" class="Symbol">→</a> <a id="29170" href="README.html#29164" class="Bound">x</a> <a id="29172" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="29174" href="README.html#29166" class="Bound">y</a> <a id="29176" href="Polynomial.Simple.AlmostCommutativeRing.html#1201" class="Function Operator">*</a> <a id="29178" class="Number">1</a> <a id="29180" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="29182" class="Number">3</a> <a id="29184" href="Polynomial.Simple.AlmostCommutativeRing.html#1115" class="Function Operator">≈</a> <a id="29186" class="Number">2</a> <a id="29188" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="29190" class="Number">1</a> <a id="29192" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="29194" href="README.html#29166" class="Bound">y</a> <a id="29196" href="Polynomial.Simple.AlmostCommutativeRing.html#1159" class="Function Operator">+</a> <a id="29198" href="README.html#29164" class="Bound">x</a>                               <a id="29230" class="Comment">--         ██║  ██║</a>
  <a id="29252" href="README.html#29154" class="Function">lemma</a> <a id="29258" class="Symbol">=</a> <a id="29260" href="Polynomial.Simple.Reflection.html#6470" class="Macro">solve</a> <a id="29266" href="Relation.Traced.html#6323" class="Function">tracedRing</a>                                                    <a id="29328" class="Comment">--         ██║  ██║</a>
                                                                              <a id="29426" class="Comment">--      ██╗██║  ██║</a>
  <a id="TracedExamples.explained"></a><a id="29448" href="README.html#29448" class="Function">explained</a>                                                                   <a id="29524" class="Comment">--    ████║██║  ██║</a>
    <a id="29548" class="Symbol">:</a> <a id="29550" href="Relation.Traced.html#9615" class="Function">showProof</a> <a id="29560" class="Symbol">(</a><a id="29561" href="README.html#29154" class="Function">lemma</a> <a id="29567" class="String">&quot;x&quot;</a> <a id="29571" class="String">&quot;y&quot;</a><a id="29574" class="Symbol">)</a> <a id="29576" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="29578" class="String">&quot;x + y + 3&quot;</a>                                 <a id="29622" class="Comment">--  █████████║  ██║</a>
                                <a id="29674" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="29676" class="String">&quot;    ={ +-comm(x, y + 3) }&quot;</a>                 <a id="29720" class="Comment">--    ████╔══╝  ██║</a>
                                <a id="29772" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="29774" class="String">&quot;y + 3 + x&quot;</a>                                 <a id="29818" class="Comment">--      ██║     ██║</a>
                                <a id="29870" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="29872" class="String">&quot;    ={ +-comm(y, 3) }&quot;</a>                     <a id="29916" class="Comment">--      ╚═╝     ██║</a>
                                <a id="29968" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="29970" class="String">&quot;3 + y + x&quot;</a>                                 <a id="30014" class="Comment">--              ██║</a>
                                <a id="30066" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="30068" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>                                          <a id="30112" class="Comment">--              ██║</a>
  <a id="30134" href="README.html#29448" class="Function">explained</a> <a id="30144" class="Symbol">=</a> <a id="30146" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">≡.refl</a>                                                          <a id="30210" class="Comment">--              ██║</a>
<a id="30230" class="Comment">--------------------------------------------------------------------------------              ██║</a>
<a id="30328" class="Comment">--                                                                            --              ██║</a>
<a id="30426" class="Comment">-- The new solver uses a sparse representation, which is much faster than the --              ██║</a>
<a id="30524" class="Comment">-- dense one the old solver used. The following graph shows the time (in      --              ██║</a>
<a id="30622" class="Comment">-- seconds) to prove that:                                                    --              ██║</a>
<a id="30720" class="Comment">--                                                                            --              ██║</a>
<a id="30818" class="Comment">--     (1 + x₁¹ + x₂² + x₃³ + x₄⁴ + x₅⁵)ᵈ                                     --              ██║</a>
<a id="30916" class="Comment">--                                                                            --              ██║</a>
<a id="31014" class="Comment">-- is equal to its expanded form. (to run the benchmarks yourself, run the    --              ██║</a>
<a id="31112" class="Comment">-- run_benchmarks.py file. You&#39;ll need python 3 and sympy.)                   --              ██║</a>
<a id="31210" class="Comment">--                                                                            --              ██║</a>
<a id="31308" class="Comment">-- 540 |  * = old                                                       *     --              ██║</a>
<a id="31406" class="Comment">-- 525 |  + = new                                                       *     --              ██║</a>
<a id="31504" class="Comment">-- 510 |                                                                *     --              ██║</a>
<a id="31602" class="Comment">-- 495 |                                                                *     --              ██║</a>
<a id="31700" class="Comment">-- 480 |                                                                *     --              ██║</a>
<a id="31798" class="Comment">-- 465 |                                                               *      --              ██║</a>
<a id="31896" class="Comment">-- 450 |                                                               *      --              ██║</a>
<a id="31994" class="Comment">-- 435 |                                                               *      --              ██║</a>
<a id="32092" class="Comment">-- 420 |                                                              *       --              ██║</a>
<a id="32190" class="Comment">-- 405 |                                                              *       --              ██║</a>
<a id="32288" class="Comment">-- 390 |                                                              *       --              ██║</a>
<a id="32386" class="Comment">-- 375 |                                                             *        --              ██║</a>
<a id="32484" class="Comment">-- 360 |                                                             *        --              ██║</a>
<a id="32582" class="Comment">-- 345 |                                                             *        --              ██║</a>
<a id="32680" class="Comment">-- 330 |                                                            *         --              ██║</a>
<a id="32778" class="Comment">-- 315 |                                                            *         --              ██║</a>
<a id="32876" class="Comment">-- 300 |                                                            *         --              ██║</a>
<a id="32974" class="Comment">-- 285 |                                                           *          --              ██║</a>
<a id="33072" class="Comment">-- 270 |                                                           *          --              ██║</a>
<a id="33170" class="Comment">-- 255 |                                                           *          --              ██║</a>
<a id="33268" class="Comment">-- 240 |                                                          *           --           ██╗██║</a>
<a id="33366" class="Comment">-- 225 |                                                          *           --         ████║██║</a>
<a id="33464" class="Comment">-- 210 |                                                          *           --       █████████║</a>
<a id="33562" class="Comment">-- 195 |                                                         *            --         ████╔══╝</a>
<a id="33660" class="Comment">-- 180 |                                                         *            --           ██║</a>
<a id="33755" class="Comment">-- 165 |                                                         *            --           ╚═╝</a>
<a id="33850" class="Comment">-- 150 |                                                        *             --</a>
<a id="33931" class="Comment">-- 135 |                                                        *             --</a>
<a id="34012" class="Comment">-- 120 |                                                        *             --</a>
<a id="34093" class="Comment">-- 105 |                                                       *              --</a>
<a id="34174" class="Comment">--  90 |                                                      *               --</a>
<a id="34255" class="Comment">--  75 |                                                     *                --</a>
<a id="34336" class="Comment">--  60 |                                                   **                 --</a>
<a id="34417" class="Comment">--  45 |                                                 **                   --</a>
<a id="34498" class="Comment">--  30 |                                               **           +++++     --</a>
<a id="34579" class="Comment">--  15 |                                          *****    +++++++++          --</a>
<a id="34660" class="Comment">--   0 | *****************************************+++++++++                   --</a>
<a id="34741" class="Comment">--     ------------------------------------------------------------------     --</a>
<a id="34822" class="Comment">--   d = 1        2        3        4        5        6        7        8     --</a>
<a id="34903" class="Comment">--------------------------------------------------------------------------------</a>
<a id="34984" class="Comment">--</a>
<a id="34987" class="Comment">-- * How does it work? Why is it fast?</a>
<a id="35026" class="Comment">--       The solver works by converting expressions to &quot;Horner Normal Form&quot;.</a>
<a id="35103" class="Comment">--       This representation is special: x + y is represented in the same way</a>
<a id="35181" class="Comment">--       as y + x. This is what lets us check that two expressions are equal.</a>
<a id="35259" class="Comment">--       The implementation here is *sparse*, also, which is why it&#39;s faster</a>
<a id="35336" class="Comment">--       than the old implementation.</a>
</pre></body></html>