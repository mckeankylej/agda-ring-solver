<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>README</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">-- ------------------------------------------------------------------------------------------------------</a>
<a id="107" class="Comment">-- | ███████╗ ██████╗ ██╗     ██╗   ██╗██╗███╗   ██╗ ██████╗     ██████╗ ██╗███╗   ██╗ ██████╗ ███████╗ |</a>
<a id="213" class="Comment">-- | ██╔════╝██╔═══██╗██║     ██║   ██║██║████╗  ██║██╔════╝     ██╔══██╗██║████╗  ██║██╔════╝ ██╔════╝ |</a>
<a id="319" class="Comment">-- | ███████╗██║   ██║██║     ██║   ██║██║██╔██╗ ██║██║  ███╗    ██████╔╝██║██╔██╗ ██║██║  ███╗███████╗ |</a>
<a id="425" class="Comment">-- | ╚════██║██║   ██║██║     ╚██╗ ██╔╝██║██║╚██╗██║██║   ██║    ██╔══██╗██║██║╚██╗██║██║   ██║╚════██║ |</a>
<a id="531" class="Comment">-- | ███████║╚██████╔╝███████╗ ╚████╔╝ ██║██║ ╚████║╚██████╔╝    ██║  ██║██║██║ ╚████║╚██████╔╝███████║ |</a>
<a id="637" class="Comment">-- | ╚══════╝ ╚═════╝ ╚══════╝  ╚═══╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝     ╚═╝  ╚═╝╚═╝╚═╝  ╚═══╝ ╚═════╝ ╚══════╝ |</a>
<a id="743" class="Comment">-- |                                                                                                    |</a>
<a id="849" class="Comment">-- |                         ██╗███╗   ██╗     █████╗  ██████╗ ██████╗  █████╗                          |</a>
<a id="955" class="Comment">-- |                         ██║████╗  ██║    ██╔══██╗██╔════╝ ██╔══██╗██╔══██╗                         |</a>
<a id="1061" class="Comment">-- |                         ██║██╔██╗ ██║    ███████║██║  ███╗██║  ██║███████║                         |</a>
<a id="1167" class="Comment">-- |                         ██║██║╚██╗██║    ██╔══██║██║   ██║██║  ██║██╔══██║                         |</a>
<a id="1273" class="Comment">-- |                         ██║██║ ╚████║    ██║  ██║╚██████╔╝██████╔╝██║  ██║                         |</a>
<a id="1379" class="Comment">-- |                         ╚═╝╚═╝  ╚═══╝    ╚═╝  ╚═╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═╝                         |</a>
<a id="1485" class="Comment">-- ------------------------------------------------------------------------------------------------------</a>
<a id="1591" class="Comment">--</a>
<a id="1594" class="Comment">--                                         Donnacha Oisín Kidney</a>
<a id="1659" class="Comment">--                                            22 January 2019</a>

<a id="1722" class="Keyword">module</a> <a id="1729" href="README.html" class="Module">README</a> <a id="1736" class="Keyword">where</a>

<a id="1743" class="Comment">-- This contains the worked-through source code for:</a>
<a id="1796" class="Comment">--</a>
<a id="1799" class="Comment">--     &quot;Automatically And Efficiently Illustrating Polynomial Equalities in Agda&quot;</a>
<a id="1881" class="Comment">--</a>
<a id="1884" class="Comment">--     We present a new library which automates the construction of equivalence</a>
<a id="1964" class="Comment">--     proofs between polynomials over commutative rings and semirings in the</a>
<a id="2042" class="Comment">--     programming language Agda. It is asymptotically faster than Agda&#39;s existing</a>
<a id="2125" class="Comment">--     solver. We use Agda&#39;s reflection machinery to provide a simple interface to</a>
<a id="2208" class="Comment">--     the solver, and demonstrate an interesting use of the constructed relations:</a>
<a id="2292" class="Comment">--     step-by-step solutions.</a>
<a id="2323" class="Comment">--</a>
<a id="2326" class="Comment">-- Which is (at time of writing) a work-in-progress.</a>
<a id="2379" class="Comment">--</a>
<a id="2382" class="Comment">-- This code is available on github:</a>
<a id="2419" class="Comment">--     https://github.com/oisdk/agda-ring-solver</a>
<a id="2468" class="Comment">--</a>
<a id="2471" class="Comment">-- As is the paper:</a>
<a id="2491" class="Comment">--     https://github.com/oisdk/agda-ring-solver-report</a>
<a id="2547" class="Comment">--</a>
<a id="2550" class="Comment">--------------------------------------------------------------------------------</a>
<a id="2631" class="Comment">-- There are 3 main contributions in this library:                            --</a>
<a id="2712" class="Comment">--                                                                            --</a>
<a id="2793" class="Comment">--   * A solver for polynomials over &quot;almost commutative rings&quot;.              --</a>
<a id="2874" class="Comment">--         Agda already has one these in the standard library, but this one   --</a>
<a id="2955" class="Comment">--         is much more efficient. &quot;Almost commutative rings&quot; encapsulates a  --</a>
<a id="3036" class="Comment">--         bunch of things, including ℕ.                                      --</a>
<a id="3117" class="Comment">--                                                                            --</a>
<a id="3198" class="Comment">--   * A reflection-based interface.                                          --</a>
<a id="3279" class="Comment">--         Not many people used the old solver, mainly (I think) because the  --</a>
<a id="3360" class="Comment">--         interface was difficult and irritating. This library provides a    --</a>
<a id="3441" class="Comment">--         super-simple interface using reflection.                           --</a>
<a id="3522" class="Comment">--                                                                            --</a>
<a id="3603" class="Comment">--   * An implementation of &quot;step-by-step solutions&quot;.                         --</a>
<a id="3684" class="Comment">--         I don&#39;t know a huge amount about computer algebra systems, but I   --</a>
<a id="3765" class="Comment">--         have used Wolfram Alpha countless times (especially when I was in  --</a>
<a id="3846" class="Comment">--         school) to help with basic maths. I was able to get this solver to --</a>
<a id="3927" class="Comment">--         produce step-by-step solutions, and learned something about the    --</a>
<a id="4008" class="Comment">--         theory behind them along the way.                                  --</a>
<a id="4089" class="Comment">--------------------------------------------------------------------------------</a>
<a id="4170" class="Comment">--</a>
<a id="4173" class="Comment">-- ███████╗██╗   ██╗██╗     ██╗          ██████╗ ██████╗ ██████╗ ███████╗</a>
<a id="4247" class="Comment">-- ██╔════╝██║   ██║██║     ██║         ██╔════╝██╔═══██╗██╔══██╗██╔════╝</a>
<a id="4321" class="Comment">-- █████╗  ██║   ██║██║     ██║         ██║     ██║   ██║██║  ██║█████╗   ███████████████████████████╗</a>
<a id="4424" class="Comment">-- ██╔══╝  ██║   ██║██║     ██║         ██║     ██║   ██║██║  ██║██╔══╝   ╚════════════════════════██║</a>
<a id="4527" class="Comment">-- ██║     ╚██████╔╝███████╗███████╗    ╚██████╗╚██████╔╝██████╔╝███████╗                          ██║</a>
<a id="4630" class="Comment">-- ╚═╝      ╚═════╝ ╚══════╝╚══════╝     ╚═════╝ ╚═════╝ ╚═════╝ ╚══════╝                          ██║</a>
<a id="4733" class="Comment">--                                                                                                 ██║</a>
<a id="4836" class="Comment">-- ██████╗ ███████╗███╗   ██╗ ██████╗██╗  ██╗███╗   ███╗ █████╗ ██████╗ ██╗  ██╗███████╗           ██║</a>
<a id="4939" class="Comment">-- ██╔══██╗██╔════╝████╗  ██║██╔════╝██║  ██║████╗ ████║██╔══██╗██╔══██╗██║ ██╔╝██╔════╝           ██║</a>
<a id="5042" class="Comment">-- ██████╔╝█████╗  ██╔██╗ ██║██║     ███████║██╔████╔██║███████║██████╔╝█████╔╝ ███████╗ ███████╗  ██║</a>
<a id="5145" class="Comment">-- ██╔══██╗██╔══╝  ██║╚██╗██║██║     ██╔══██║██║╚██╔╝██║██╔══██║██╔══██╗██╔═██╗ ╚════██║ ╚════██║  ██║</a>
<a id="5248" class="Comment">-- ██████╔╝███████╗██║ ╚████║╚██████╗██║  ██║██║ ╚═╝ ██║██║  ██║██║  ██║██║  ██╗███████║      ██║  ██║</a>
<a id="5351" class="Comment">-- ╚═════╝ ╚══════╝╚═╝  ╚═══╝ ╚═════╝╚═╝  ╚═╝╚═╝     ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝      ██║  ██║</a>
<a id="5454" class="Comment">--                                                                                            ██║  ██║</a>
<a id="5557" class="Comment">-- ███████╗██╗  ██╗ █████╗ ███╗   ███╗██████╗ ██╗     ███████╗███████╗                        ██║  ██║</a>
<a id="5660" class="Comment">-- ██╔════╝╚██╗██╔╝██╔══██╗████╗ ████║██╔══██╗██║     ██╔════╝██╔════╝                        ██║  ██║</a>
<a id="5763" class="Comment">-- █████╗   ╚███╔╝ ███████║██╔████╔██║██████╔╝██║     █████╗  ███████╗ ████████████████████╗  ██║  ██║</a>
<a id="5866" class="Comment">-- ██╔══╝   ██╔██╗ ██╔══██║██║╚██╔╝██║██╔═══╝ ██║     ██╔══╝  ╚════██║ ╚═════════════════██║  ██║  ██║</a>
<a id="5969" class="Comment">-- ███████╗██╔╝ ██╗██║  ██║██║ ╚═╝ ██║██║     ███████╗███████╗███████║                   ██║  ██║  ██║</a>
<a id="6072" class="Comment">-- ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝     ╚═╝╚═╝     ╚══════╝╚══════╝╚══════╝                   ██║  ██║  ██║</a>
<a id="6175" class="Comment">--                                                                                       ██║  ██║  ██║</a>
<a id="6278" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="6381" class="Comment">-- You can ignore this bit! We&#39;re just overloading the literals Agda uses for --         ██║  ██║  ██║</a>
<a id="6484" class="Comment">-- numbers This bit isn&#39;t necessary if you&#39;re just using Nats, or if you      --         ██║  ██║  ██║</a>
<a id="6587" class="Comment">-- construct your type directly. We only really do it here so that we can use --         ██║  ██║  ██║</a>
<a id="6690" class="Comment">-- different numeric types in the same file.                                  --         ██║  ██║  ██║</a>
                                                                              <a id="6871" class="Comment">--         ██║  ██║  ██║</a>
<a id="6896" class="Keyword">open</a> <a id="6901" class="Keyword">import</a> <a id="6908" href="Agda.Builtin.FromNat.html" class="Module">Agda.Builtin.FromNat</a>                                              <a id="6974" class="Comment">--         ██║  ██║  ██║</a>
<a id="6999" class="Keyword">open</a> <a id="7004" class="Keyword">import</a> <a id="7011" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="7028" class="Keyword">using</a> <a id="7034" class="Symbol">(</a><a id="7035" href="Agda.Builtin.Nat.html#97" class="Datatype">Nat</a><a id="7038" class="Symbol">)</a>                                      <a id="7077" class="Comment">--         ██║  ██║  ██║</a>
<a id="7102" class="Keyword">open</a> <a id="7107" class="Keyword">import</a> <a id="7114" href="Agda.Builtin.Int.html" class="Module">Agda.Builtin.Int</a> <a id="7131" class="Keyword">using</a> <a id="7137" class="Symbol">(</a><a id="7138" href="Agda.Builtin.Int.html#178" class="Datatype">Int</a><a id="7141" class="Symbol">)</a>                                      <a id="7180" class="Comment">--         ██║  ██║  ██║</a>
                                                                              <a id="7283" class="Comment">--         ██║  ██║  ██║</a>
<a id="7308" class="Keyword">instance</a>                                                                      <a id="7386" class="Comment">--         ██║  ██║  ██║</a>
  <a id="numberNat"></a><a id="7413" href="README.html#7413" class="Function">numberNat</a> <a id="7423" class="Symbol">:</a> <a id="7425" href="Agda.Builtin.FromNat.html#129" class="Record">Number</a> <a id="7432" href="Agda.Builtin.Nat.html#97" class="Datatype">Nat</a>                                                      <a id="7489" class="Comment">--         ██║  ██║  ██║</a>
  <a id="7516" href="README.html#7413" class="Function">numberNat</a> <a id="7526" class="Symbol">=</a> <a id="7528" href="Data.Nat.Literals.html#353" class="Function">Data.Nat.Literals.number</a>                                        <a id="7592" class="Comment">--         ██║  ██║  ██║</a>
    <a id="7621" class="Keyword">where</a> <a id="7627" class="Keyword">import</a> <a id="7634" href="Data.Nat.Literals.html" class="Module">Data.Nat.Literals</a>                                            <a id="7695" class="Comment">--         ██║  ██║  ██║</a>
                                                                              <a id="7798" class="Comment">--         ██║  ██║  ██║</a>
<a id="7823" class="Keyword">instance</a>                                                                      <a id="7901" class="Comment">--         ██║  ██║  ██║</a>
  <a id="numberInt"></a><a id="7928" href="README.html#7928" class="Function">numberInt</a> <a id="7938" class="Symbol">:</a> <a id="7940" href="Agda.Builtin.FromNat.html#129" class="Record">Number</a> <a id="7947" href="Agda.Builtin.Int.html#178" class="Datatype">Int</a>                                                      <a id="8004" class="Comment">--         ██║  ██║  ██║</a>
  <a id="8031" href="README.html#7928" class="Function">numberInt</a> <a id="8041" class="Symbol">=</a> <a id="8043" href="Data.Integer.Literals.html#386" class="Function">Data.Integer.Literals.number</a>                                    <a id="8107" class="Comment">--         ██║  ██║  ██║</a>
    <a id="8136" class="Keyword">where</a> <a id="8142" class="Keyword">import</a> <a id="8149" href="Data.Integer.Literals.html" class="Module">Data.Integer.Literals</a>                                        <a id="8210" class="Comment">--         ██║  ██║  ██║</a>
                                                                              <a id="8313" class="Comment">--         ██║  ██║  ██║</a>
<a id="8338" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="8441" class="Comment">-- Imports!                                                                   --         ██║  ██║  ██║</a>
                                                                              <a id="8622" class="Comment">--         ██║  ██║  ██║</a>
<a id="8647" class="Keyword">open</a> <a id="8652" class="Keyword">import</a> <a id="8659" href="Polynomial.Simple.AlmostCommutativeRing.html" class="Module">Polynomial.Simple.AlmostCommutativeRing</a>                           <a id="8725" class="Comment">--         ██║  ██║  ██║</a>
<a id="8750" class="Keyword">open</a> <a id="8755" class="Keyword">import</a> <a id="8762" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html" class="Module">Polynomial.Simple.AlmostCommutativeRing.Instances</a>                 <a id="8828" class="Comment">--         ██║  ██║  ██║</a>
<a id="8853" class="Keyword">open</a> <a id="8858" class="Keyword">import</a> <a id="8865" href="Polynomial.Simple.Reflection.html" class="Module">Polynomial.Simple.Reflection</a>                                      <a id="8931" class="Comment">--         ██║  ██║  ██║</a>
<a id="8956" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="9059" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="9162" class="Comment">--                           8888888888&#39;,8888&#39;                                --         ██║  ██║  ██║</a>
<a id="9265" class="Comment">--                                  ,8&#39;,8888&#39;                                 --         ██║  ██║  ██║</a>
<a id="9368" class="Comment">--                                 ,8&#39;,8888&#39;                                  --         ██║  ██║  ██║</a>
<a id="9471" class="Comment">--                                ,8&#39;,8888&#39;                                   --         ██║  ██║  ██║</a>
<a id="9574" class="Comment">--                               ,8&#39;,8888&#39;                                    --         ██║  ██║  ██║</a>
<a id="9677" class="Comment">--                              ,8&#39;,8888&#39;                                     --         ██║  ██║  ██║</a>
<a id="9780" class="Comment">--                             ,8&#39;,8888&#39;                                      --         ██║  ██║  ██║</a>
<a id="9883" class="Comment">--                            ,8&#39;,8888&#39;                                       --         ██║  ██║  ██║</a>
<a id="9986" class="Comment">--                           ,8&#39;,8888&#39;                                        --         ██║  ██║  ██║</a>
<a id="10089" class="Comment">--                          ,8&#39;,8888888888888                                 --         ██║  ██║  ██║</a>
<a id="10192" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="10295" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="10398" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="10501" class="Keyword">module</a> <a id="IntExamples"></a><a id="10508" href="README.html#10508" class="Module">IntExamples</a> <a id="10520" class="Keyword">where</a>                                                      <a id="10579" class="Comment">--         ██║  ██║  ██║</a>
  <a id="10606" class="Keyword">open</a> <a id="10611" href="Polynomial.Simple.AlmostCommutativeRing.html#905" class="Module">AlmostCommutativeRing</a> <a id="10633" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#802" class="Function">Int.ring</a>                                         <a id="10682" class="Comment">--         ██║  ██║  ██║</a>
  <a id="10709" class="Comment">-- Everything is automatic: you just ask Agda to solve it and it does!      --     ██╗ ██║  ██║  ██║</a>
  <a id="IntExamples.lemma₁"></a><a id="10812" href="README.html#10812" class="Function">lemma₁</a> <a id="10819" class="Symbol">:</a> <a id="10821" class="Symbol">∀</a> <a id="10823" href="README.html#10823" class="Bound">x</a> <a id="10825" href="README.html#10825" class="Bound">y</a> <a id="10827" class="Symbol">→</a> <a id="10829" href="README.html#10823" class="Bound">x</a> <a id="10831" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="10833" href="README.html#10825" class="Bound">y</a> <a id="10835" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="10837" class="Number">1</a> <a id="10839" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="10841" class="Number">3</a> <a id="10843" href="Polynomial.Simple.AlmostCommutativeRing.html#1079" class="Function Operator">≈</a> <a id="10845" class="Number">3</a> <a id="10847" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="10849" class="Number">1</a> <a id="10851" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="10853" href="README.html#10825" class="Bound">y</a> <a id="10855" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="10857" href="README.html#10823" class="Bound">x</a> <a id="10859" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="10861" href="Polynomial.Simple.AlmostCommutativeRing.html#1207" class="Function Operator">-</a> <a id="10863" class="Number">1</a>                        <a id="10888" class="Comment">--   ████║ ██║  ██║  ██║</a>
  <a id="10915" href="README.html#10812" class="Function">lemma₁</a> <a id="10922" class="Symbol">=</a> <a id="10924" href="Polynomial.Simple.Reflection.html#8188" class="Macro">solve</a> <a id="10930" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#802" class="Function">Int.ring</a>                                                     <a id="10991" class="Comment">-- ██████████║  ██║  ██║</a>
                                                                              <a id="11094" class="Comment">--   ████╔═██║  ██║  ██║</a>
  <a id="IntExamples.lemma₂"></a><a id="11121" href="README.html#11121" class="Function">lemma₂</a> <a id="11128" class="Symbol">:</a> <a id="11130" class="Symbol">∀</a> <a id="11132" href="README.html#11132" class="Bound">x</a> <a id="11134" href="README.html#11134" class="Bound">y</a> <a id="11136" class="Symbol">→</a> <a id="11138" class="Symbol">(</a><a id="11139" href="README.html#11132" class="Bound">x</a> <a id="11141" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="11143" href="README.html#11134" class="Bound">y</a><a id="11144" class="Symbol">)</a> <a id="11146" href="Polynomial.Simple.AlmostCommutativeRing.html#2058" class="Function Operator">^</a> <a id="11148" class="Number">2</a> <a id="11150" href="Polynomial.Simple.AlmostCommutativeRing.html#1079" class="Function Operator">≈</a> <a id="11152" href="README.html#11132" class="Bound">x</a> <a id="11154" href="Polynomial.Simple.AlmostCommutativeRing.html#2058" class="Function Operator">^</a> <a id="11156" class="Number">2</a> <a id="11158" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="11160" class="Number">2</a> <a id="11162" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="11164" href="README.html#11132" class="Bound">x</a> <a id="11166" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="11168" href="README.html#11134" class="Bound">y</a> <a id="11170" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="11172" href="README.html#11134" class="Bound">y</a> <a id="11174" href="Polynomial.Simple.AlmostCommutativeRing.html#2058" class="Function Operator">^</a> <a id="11176" class="Number">2</a>                    <a id="11197" class="Comment">--     ██║ ██║  ██║  ██║</a>
  <a id="11224" href="README.html#11121" class="Function">lemma₂</a> <a id="11231" class="Symbol">=</a> <a id="11233" href="Polynomial.Simple.Reflection.html#8188" class="Macro">solve</a> <a id="11239" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#802" class="Function">Int.ring</a>                                                     <a id="11300" class="Comment">--     ╚═╝ ██║  ██║  ██║</a>
                                                                              <a id="11403" class="Comment">--         ██║  ██║  ██║</a>
  <a id="11430" class="Keyword">open</a> <a id="11435" class="Keyword">import</a> <a id="11442" href="Relation.Binary.EqReasoning.html" class="Module">Relation.Binary.EqReasoning</a> <a id="11470" href="Algebra.Structures.html#935" class="Function">setoid</a>                              <a id="11506" class="Comment">--         ██║  ██║  ██║</a>
  <a id="11533" class="Keyword">open</a> <a id="11538" class="Keyword">import</a> <a id="11545" href="Function.html" class="Module">Function</a>                                                        <a id="11609" class="Comment">--         ██║  ██║  ██║</a>
  <a id="11636" class="Keyword">open</a> <a id="11641" class="Keyword">import</a> <a id="11648" href="Relation.Binary.Reasoning.Inference.html" class="Module">Relation.Binary.Reasoning.Inference</a> <a id="11684" href="Polynomial.Simple.AlmostCommutativeRing.html#1079" class="Function Operator">_≈_</a> <a id="11688" href="Polynomial.Simple.AlmostCommutativeRing.html#2136" class="Function">refl</a> <a id="11693" href="Relation.Binary.Core.html#5860" class="Function">trans</a>              <a id="11712" class="Comment">--         ██║  ██║  ██║</a>
  <a id="11739" class="Keyword">open</a> <a id="11744" class="Keyword">import</a> <a id="11751" href="Data.List.html" class="Module">Data.List</a> <a id="11761" class="Keyword">using</a> <a id="11767" class="Symbol">(</a><a id="11768" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">_∷_</a><a id="11771" class="Symbol">;</a> <a id="11773" href="Data.List.Base.html#9863" class="InductiveConstructor">[]</a><a id="11775" class="Symbol">)</a>                                       <a id="11815" class="Comment">--         ██║  ██║  ██║</a>
                                                                              <a id="11918" class="Comment">--         ██║  ██║  ██║</a>
  <a id="11945" class="Comment">-- It can interact with manual proofs as well.                              --         ██║  ██║  ██║</a>
  <a id="IntExamples.lemma₃"></a><a id="12048" href="README.html#12048" class="Function">lemma₃</a> <a id="12055" class="Symbol">:</a> <a id="12057" class="Symbol">∀</a> <a id="12059" href="README.html#12059" class="Bound">x</a> <a id="12061" href="README.html#12061" class="Bound">y</a> <a id="12063" class="Symbol">→</a> <a id="12065" href="README.html#12059" class="Bound">x</a> <a id="12067" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12069" href="README.html#12061" class="Bound">y</a> <a id="12071" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="12073" class="Number">1</a> <a id="12075" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12077" class="Number">3</a> <a id="12079" href="Polynomial.Simple.AlmostCommutativeRing.html#1079" class="Function Operator">≈</a> <a id="12081" class="Number">2</a> <a id="12083" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12085" class="Number">1</a> <a id="12087" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12089" href="README.html#12061" class="Bound">y</a> <a id="12091" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12093" href="README.html#12059" class="Bound">x</a>                              <a id="12124" class="Comment">--         ██║  ██║  ██║</a>
  <a id="12151" href="README.html#12048" class="Function">lemma₃</a> <a id="12158" href="README.html#12158" class="Bound">x</a> <a id="12160" href="README.html#12160" class="Bound">y</a> <a id="12162" class="Symbol">=</a> <a id="12164" href="Relation.Binary.Reasoning.Base.Single.html#823" class="Function Operator">begin</a>                                                          <a id="12227" class="Comment">--         ██║  ██║  ██║</a>
    <a id="12256" href="README.html#12158" class="Bound">x</a> <a id="12258" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12260" href="README.html#12160" class="Bound">y</a> <a id="12262" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="12264" class="Number">1</a> <a id="12266" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12268" class="Number">3</a> <a id="12270" href="Relation.Binary.Reasoning.Base.Single.html#889" class="Function Operator">≈⟨</a> <a id="12273" href="Algebra.Structures.html#2120" class="Function">+-comm</a> <a id="12280" href="README.html#12158" class="Bound">x</a> <a id="12282" class="Symbol">(</a><a id="12283" href="README.html#12160" class="Bound">y</a> <a id="12285" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="12287" class="Number">1</a><a id="12288" class="Symbol">)</a> <a id="12290" href="Function.html#2548" class="Function Operator">⟨</a> <a id="12292" href="Algebra.Structures.html#860" class="Function">+-cong</a> <a id="12299" href="Function.html#2548" class="Function Operator">⟩</a> <a id="12301" href="Polynomial.Simple.AlmostCommutativeRing.html#2136" class="Function">refl</a> <a id="12306" href="Relation.Binary.Reasoning.Base.Single.html#889" class="Function Operator">⟩</a>                       <a id="12330" class="Comment">--         ██║  ██║  ██║</a>
    <a id="12359" href="README.html#12160" class="Bound">y</a> <a id="12361" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="12363" class="Number">1</a> <a id="12365" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12367" href="README.html#12158" class="Bound">x</a> <a id="12369" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12371" class="Number">3</a> <a id="12373" href="Relation.Binary.Reasoning.Inference.html#257" class="Function">≋⟨</a> <a id="12376" href="Polynomial.Simple.Reflection.html#9184" class="Macro">solveOver</a> <a id="12386" class="Symbol">(</a><a id="12387" href="README.html#12158" class="Bound">x</a> <a id="12389" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="12391" href="README.html#12160" class="Bound">y</a> <a id="12393" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="12395" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="12397" class="Symbol">)</a> <a id="12399" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#802" class="Function">Int.ring</a> <a id="12408" href="Relation.Binary.Reasoning.Inference.html#257" class="Function">⟩</a>                        <a id="12433" class="Comment">--         ██║  ██║  ██║</a>
    <a id="12462" class="Number">3</a> <a id="12464" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12466" href="README.html#12160" class="Bound">y</a> <a id="12468" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12470" href="README.html#12158" class="Bound">x</a>     <a id="12476" href="Relation.Binary.Reasoning.Base.Single.html#998" class="Function Operator">≡⟨</a> <a id="12479" href="Polynomial.Simple.AlmostCommutativeRing.html#2136" class="Function">refl</a> <a id="12484" href="Relation.Binary.Reasoning.Base.Single.html#998" class="Function Operator">⟩</a>                                                   <a id="12536" class="Comment">--         ██║  ██║  ██║</a>
    <a id="12565" class="Number">2</a> <a id="12567" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12569" class="Number">1</a> <a id="12571" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12573" href="README.html#12160" class="Bound">y</a> <a id="12575" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="12577" href="README.html#12158" class="Bound">x</a> <a id="12579" href="Relation.Binary.Reasoning.Base.Single.html#1259" class="Function Operator">∎</a>                                                           <a id="12639" class="Comment">--         ██║  ██║  ██║</a>
<a id="12664" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="12767" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="12870" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="12973" class="Comment">--                          b.             8                                  --         ██║  ██║  ██║</a>
<a id="13076" class="Comment">--                          888o.          8                                  --         ██║  ██║  ██║</a>
<a id="13179" class="Comment">--                          Y88888o.       8                                  --         ██║  ██║  ██║</a>
<a id="13282" class="Comment">--                          .`Y888888o.    8                                  --         ██║  ██║  ██║</a>
<a id="13385" class="Comment">--                          8o. `Y888888o. 8                                  --         ██║  ██║  ██║</a>
<a id="13488" class="Comment">--                          8`Y8o. `Y88888o8                                  --         ██║  ██║  ██║</a>
<a id="13591" class="Comment">--                          8   `Y8o. `Y8888                                  --         ██║  ██║  ██║</a>
<a id="13694" class="Comment">--                          8      `Y8o. `Y8                                  --         ██║  ██║  ██║</a>
<a id="13797" class="Comment">--                          8         `Y8o.`                                  --         ██║  ██║  ██║</a>
<a id="13900" class="Comment">--                          8            `Yo                                  --         ██║  ██║  ██║</a>
<a id="14003" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="14106" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="14209" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="14312" class="Keyword">module</a> <a id="NatExamples"></a><a id="14319" href="README.html#14319" class="Module">NatExamples</a> <a id="14331" class="Keyword">where</a>                                                      <a id="14390" class="Comment">--         ██║  ██║  ██║</a>
  <a id="14417" class="Keyword">open</a> <a id="14422" href="Polynomial.Simple.AlmostCommutativeRing.html#905" class="Module">AlmostCommutativeRing</a> <a id="14444" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#386" class="Function">Nat.ring</a>                                         <a id="14493" class="Comment">--     ██╗ ██║  ██║  ██║</a>
  <a id="14520" class="Comment">-- The solver is flexible enough to work with Nats (even though it asks     --   ████║ ██║  ██║  ██║</a>
  <a id="14623" class="Comment">-- for rings!)                                                              -- ██████████║  ██║  ██║</a>
  <a id="NatExamples.lemma₁"></a><a id="14726" href="README.html#14726" class="Function">lemma₁</a> <a id="14733" class="Symbol">:</a> <a id="14735" class="Symbol">∀</a> <a id="14737" href="README.html#14737" class="Bound">x</a> <a id="14739" href="README.html#14739" class="Bound">y</a> <a id="14741" class="Symbol">→</a> <a id="14743" href="README.html#14737" class="Bound">x</a> <a id="14745" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="14747" href="README.html#14739" class="Bound">y</a> <a id="14749" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="14751" class="Number">1</a> <a id="14753" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="14755" class="Number">3</a> <a id="14757" href="Polynomial.Simple.AlmostCommutativeRing.html#1079" class="Function Operator">≈</a> <a id="14759" class="Number">2</a> <a id="14761" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="14763" class="Number">1</a> <a id="14765" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="14767" href="README.html#14739" class="Bound">y</a> <a id="14769" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="14771" href="README.html#14737" class="Bound">x</a>                              <a id="14802" class="Comment">--   ████╔═██║  ██║  ██║</a>
  <a id="14829" href="README.html#14726" class="Function">lemma₁</a> <a id="14836" class="Symbol">=</a> <a id="14838" href="Polynomial.Simple.Reflection.html#8188" class="Macro">solve</a> <a id="14844" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#386" class="Function">Nat.ring</a>                                                     <a id="14905" class="Comment">--     ██║ ██║  ██║  ██║</a>
<a id="14930" class="Comment">--                                                                            --     ╚═╝ ██║  ██║  ██║</a>
<a id="15033" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="15136" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="15239" class="Comment">--             8888888 8888888888 8 8888        8 8 8888888888                --         ██║  ██║  ██║</a>
<a id="15342" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║  ██║</a>
<a id="15445" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║  ██║</a>
<a id="15548" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║  ██║</a>
<a id="15651" class="Comment">--                   8 8888       8 8888        8 8 888888888888              --         ██║  ██║  ██║</a>
<a id="15754" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║  ██║</a>
<a id="15857" class="Comment">--                   8 8888       8 8888888888888 8 8888                      --         ██║  ██║  ██║</a>
<a id="15960" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║  ██║</a>
<a id="16063" class="Comment">--                   8 8888       8 8888        8 8 8888                      --         ██║  ██║  ██║</a>
<a id="16166" class="Comment">--                   8 8888       8 8888        8 8 888888888888              --         ██║  ██║  ██║</a>
<a id="16269" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="16372" class="Comment">--                 ,o888888o.     8 8888         8 888888888o.                --         ██║  ██║  ██║</a>
<a id="16475" class="Comment">--              . 8888     `88.   8 8888         8 8888    `^888.             --         ██║  ██║  ██║</a>
<a id="16578" class="Comment">--             ,8 8888       `8b  8 8888         8 8888        `88.           --         ██║  ██║  ██║</a>
<a id="16681" class="Comment">--             88 8888        `8b 8 8888         8 8888         `88           --         ██║  ██║  ██║</a>
<a id="16784" class="Comment">--             88 8888         88 8 8888         8 8888          88           --         ██║  ██║  ██║</a>
<a id="16887" class="Comment">--             88 8888         88 8 8888         8 8888          88           --         ██║  ██║  ██║</a>
<a id="16990" class="Comment">--             88 8888        ,8P 8 8888         8 8888         ,88           --         ██║  ██║  ██║</a>
<a id="17093" class="Comment">--             `8 8888       ,8P  8 8888         8 8888        ,88&#39;           --         ██║  ██║  ██║</a>
<a id="17196" class="Comment">--              ` 8888     ,88&#39;   8 8888         8 8888    ,o88P&#39;             --         ██║  ██║  ██║</a>
<a id="17299" class="Comment">--                 `8888888P&#39;     8 888888888888 8 888888888P&#39;                --         ██║  ██║  ██║</a>
<a id="17402" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="17505" class="Comment">--             `8.`888b                 ,8&#39; .8.   `8.`8888.      ,8&#39;          --         ██║  ██║  ██║</a>
<a id="17608" class="Comment">--              `8.`888b               ,8&#39; .888.   `8.`8888.    ,8&#39;           --         ██║  ██║  ██║</a>
<a id="17711" class="Comment">--               `8.`888b             ,8&#39; :88888.   `8.`8888.  ,8&#39;            --         ██║  ██║  ██║</a>
<a id="17814" class="Comment">--                `8.`888b     .b    ,8&#39; . `88888.   `8.`8888.,8&#39;             --         ██║  ██║  ██║</a>
<a id="17917" class="Comment">--                 `8.`888b    88b  ,8&#39; .8. `88888.   `8.`88888&#39;              --         ██║  ██║  ██║</a>
<a id="18020" class="Comment">--                  `8.`888b .`888b,8&#39; .8`8. `88888.   `8. 8888               --         ██║  ██║  ██║</a>
<a id="18123" class="Comment">--                   `8.`888b8.`8888&#39; .8&#39; `8. `88888.   `8 8888               --         ██║  ██║  ██║</a>
<a id="18226" class="Comment">--                    `8.`888`8.`88&#39; .8&#39;   `8. `88888.   8 8888               --         ██║  ██║  ██║</a>
<a id="18329" class="Comment">--                     `8.`8&#39; `8,`&#39; .888888888. `88888.  8 8888               --         ██║  ██║  ██║</a>
<a id="18432" class="Comment">--                      `8.`   `8&#39; .8&#39;       `8. `88888. 8 8888               --         ██║  ██║  ██║</a>
<a id="18535" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="18638" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="18741" class="Comment">-- Previously, you had to construct the expression you wanted to solve twice: --         ██║  ██║  ██║</a>
<a id="18844" class="Comment">-- once in the type signature, and again using the special solver syntax.     --         ██║  ██║  ██║</a>
<a id="18947" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="19050" class="Comment">-- This is difficult to learn, and error-prone: if I change an x + y          --         ██║  ██║  ██║</a>
<a id="19153" class="Comment">-- somewhere to a y + x, I *also* have to change the proofs now! The          --         ██║  ██║  ██║</a>
<a id="19256" class="Comment">-- reflection-based solver will automatically construct the new proof.        --         ██║  ██║  ██║</a>
<a id="19359" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="19462" class="Keyword">module</a> <a id="OldSolver"></a><a id="19469" href="README.html#19469" class="Module">OldSolver</a> <a id="19479" class="Keyword">where</a>                                                        <a id="19540" class="Comment">--         ██║  ██║  ██║</a>
  <a id="19567" class="Keyword">open</a> <a id="19572" class="Keyword">import</a> <a id="19579" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>                           <a id="19643" class="Comment">--         ██║  ██║  ██║</a>
  <a id="19670" class="Keyword">open</a> <a id="19675" class="Keyword">import</a> <a id="19682" href="Data.Nat.html" class="Module">Data.Nat</a>                                                        <a id="19746" class="Comment">--         ██║  ██║  ██║</a>
  <a id="19773" class="Keyword">open</a> <a id="19778" class="Keyword">import</a> <a id="19785" href="Data.Nat.Solver.html" class="Module">Data.Nat.Solver</a> <a id="19801" class="Keyword">using</a> <a id="19807" class="Symbol">(</a><a id="19808" class="Keyword">module</a> <a id="19815" href="Data.Nat.Solver.html#691" class="Module">+-*-Solver</a><a id="19825" class="Symbol">)</a>                       <a id="19849" class="Comment">--         ██║  ██║  ██║</a>
  <a id="19876" class="Keyword">open</a> <a id="19881" href="Data.Nat.Solver.html#691" class="Module">+-*-Solver</a>                                                             <a id="19952" class="Comment">--         ██║  ██║  ██║</a>
                                                                              <a id="20055" class="Comment">--     ██╗ ██║  ██║  ██║</a>
  <a id="OldSolver.lemma"></a><a id="20082" href="README.html#20082" class="Function">lemma</a> <a id="20088" class="Symbol">:</a> <a id="20090" class="Symbol">∀</a> <a id="20092" href="README.html#20092" class="Bound">x</a> <a id="20094" href="README.html#20094" class="Bound">y</a> <a id="20096" class="Symbol">→</a> <a id="20098" href="README.html#20092" class="Bound">x</a> <a id="20100" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="20102" href="README.html#20094" class="Bound">y</a> <a id="20104" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">*</a> <a id="20106" class="Number">1</a> <a id="20108" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="20110" class="Number">3</a> <a id="20112" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="20114" class="Number">2</a> <a id="20116" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="20118" class="Number">1</a> <a id="20120" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="20122" href="README.html#20094" class="Bound">y</a> <a id="20124" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="20126" href="README.html#20092" class="Bound">x</a>                               <a id="20158" class="Comment">--   ████║ ██║  ██║  ██║</a>
  <a id="20185" href="README.html#20082" class="Function">lemma</a> <a id="20191" class="Symbol">=</a> <a id="20193" href="Relation.Binary.Reflection.html#2423" class="Function">+-*-Solver.solve</a> <a id="20210" class="Number">2</a>                                                  <a id="20261" class="Comment">-- ██████████║  ██║  ██║</a>
    <a id="20290" class="Symbol">(λ</a> <a id="20293" href="README.html#20293" class="Bound">x</a> <a id="20295" href="README.html#20295" class="Bound">y</a> <a id="20297" class="Symbol">→</a> <a id="20299" href="README.html#20293" class="Bound">x</a> <a id="20301" href="Algebra.Solver.Ring.html#2721" class="Function Operator">:+</a> <a id="20304" href="README.html#20295" class="Bound">y</a> <a id="20306" href="Algebra.Solver.Ring.html#2794" class="Function Operator">:*</a> <a id="20309" href="Algebra.Solver.Ring.html#2527" class="InductiveConstructor">con</a> <a id="20313" class="Number">1</a> <a id="20315" href="Algebra.Solver.Ring.html#2721" class="Function Operator">:+</a> <a id="20318" href="Algebra.Solver.Ring.html#2527" class="InductiveConstructor">con</a> <a id="20322" class="Number">3</a> <a id="20324" href="Relation.Binary.Reflection.html#3532" class="Function Operator">:=</a> <a id="20327" href="Algebra.Solver.Ring.html#2527" class="InductiveConstructor">con</a> <a id="20331" class="Number">2</a> <a id="20333" href="Algebra.Solver.Ring.html#2721" class="Function Operator">:+</a> <a id="20336" href="Algebra.Solver.Ring.html#2527" class="InductiveConstructor">con</a> <a id="20340" class="Number">1</a> <a id="20342" href="Algebra.Solver.Ring.html#2721" class="Function Operator">:+</a> <a id="20345" href="README.html#20295" class="Bound">y</a> <a id="20347" href="Algebra.Solver.Ring.html#2721" class="Function Operator">:+</a> <a id="20350" href="README.html#20293" class="Bound">x</a><a id="20351" class="Symbol">)</a> <a id="20353" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>       <a id="20364" class="Comment">--   ████╔═██║  ██║  ██║</a>
<a id="20389" class="Comment">--                                                                            --     ██║ ██║  ██║  ██║</a>
<a id="20492" class="Comment">--------------------------------------------------------------------------------     ╚═╝ ██║  ██║  ██║</a>
<a id="20595" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="20698" class="Comment">--          d888888o.   8888888 8888888888 8 8888888888   8 888888888o        --         ██║  ██║  ██║</a>
<a id="20801" class="Comment">--        .`8888:&#39; `88.       8 8888       8 8888         8 8888    `88.      --         ██║  ██║  ██║</a>
<a id="20904" class="Comment">--        8.`8888.   Y8       8 8888       8 8888         8 8888     `88      --         ██║  ██║  ██║</a>
<a id="21007" class="Comment">--        `8.`8888.           8 8888       8 8888         8 8888     ,88      --         ██║  ██║  ██║</a>
<a id="21110" class="Comment">--         `8.`8888.          8 8888       8 888888888888 8 8888.   ,88&#39;      --         ██║  ██║  ██║</a>
<a id="21213" class="Comment">--          `8.`8888.         8 8888       8 8888         8 888888888P&#39;       --         ██║  ██║  ██║</a>
<a id="21316" class="Comment">--           `8.`8888.        8 8888       8 8888         8 8888              --         ██║  ██║  ██║</a>
<a id="21419" class="Comment">--       8b   `8.`8888.       8 8888       8 8888         8 8888              --         ██║  ██║  ██║</a>
<a id="21522" class="Comment">--       `8b.  ;8.`8888       8 8888       8 8888         8 8888              --         ██║  ██║  ██║</a>
<a id="21625" class="Comment">--        `Y8888P ,88P&#39;       8 8888       8 888888888888 8 8888              --         ██║  ██║  ██║</a>
<a id="21728" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="21831" class="Comment">--                      8 888888888o   `8.`8888.      ,8&#39;                     --         ██║  ██║  ██║</a>
<a id="21934" class="Comment">--                      8 8888    `88.  `8.`8888.    ,8&#39;                      --         ██║  ██║  ██║</a>
<a id="22037" class="Comment">--                      8 8888     `88   `8.`8888.  ,8&#39;                       --         ██║  ██║  ██║</a>
<a id="22140" class="Comment">--                      8 8888     ,88    `8.`8888.,8&#39;                        --         ██║  ██║  ██║</a>
<a id="22243" class="Comment">--                      8 8888.   ,88&#39;     `8.`88888&#39;                         --         ██║  ██║  ██║</a>
<a id="22346" class="Comment">--                      8 8888888888        `8. 8888                          --         ██║  ██║  ██║</a>
<a id="22449" class="Comment">--                      8 8888    `88.       `8 8888                          --         ██║  ██║  ██║</a>
<a id="22552" class="Comment">--                      8 8888      88        8 8888                          --         ██║  ██║  ██║</a>
<a id="22655" class="Comment">--                      8 8888    ,88&#39;        8 8888                          --         ██║  ██║  ██║</a>
<a id="22758" class="Comment">--                      8 888888888P          8 8888                          --         ██║  ██║  ██║</a>
<a id="22861" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="22964" class="Comment">--          d888888o.   8888888 8888888888 8 8888888888   8 888888888o        --         ██║  ██║  ██║</a>
<a id="23067" class="Comment">--        .`8888:&#39; `88.       8 8888       8 8888         8 8888    `88.      --         ██║  ██║  ██║</a>
<a id="23170" class="Comment">--        8.`8888.   Y8       8 8888       8 8888         8 8888     `88      --         ██║  ██║  ██║</a>
<a id="23273" class="Comment">--        `8.`8888.           8 8888       8 8888         8 8888     ,88      --         ██║  ██║  ██║</a>
<a id="23376" class="Comment">--         `8.`8888.          8 8888       8 888888888888 8 8888.   ,88&#39;      --         ██║  ██║  ██║</a>
<a id="23479" class="Comment">--          `8.`8888.         8 8888       8 8888         8 888888888P&#39;       --         ██║  ██║  ██║</a>
<a id="23582" class="Comment">--           `8.`8888.        8 8888       8 8888         8 8888              --         ██║  ██║  ██║</a>
<a id="23685" class="Comment">--       8b   `8.`8888.       8 8888       8 8888         8 8888              --         ██║  ██║  ██║</a>
<a id="23788" class="Comment">--       `8b.  ;8.`8888       8 8888       8 8888         8 8888              --         ██║  ██║  ██║</a>
<a id="23891" class="Comment">--        `Y8888P ,88P&#39;       8 8888       8 888888888888 8 8888              --         ██║  ██║  ██║</a>
<a id="23994" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="24097" class="Comment">--------------------------------------------------------------------------------         ██║  ██║  ██║</a>
<a id="24200" class="Comment">-- Don&#39;t understand why something works? Wanna get it explained to you? Now   --         ██║  ██║  ██║</a>
<a id="24303" class="Comment">-- you can! The solver can generate step-by-step, human-readable solutions    --         ██║  ██║  ██║</a>
<a id="24406" class="Comment">-- for learning purposes.                                                     --         ██║  ██║  ██║</a>
<a id="24509" class="Comment">--                                                                            --         ██║  ██║  ██║</a>
<a id="24612" class="Keyword">module</a> <a id="TracedExamples"></a><a id="24619" href="README.html#24619" class="Module">TracedExamples</a> <a id="24634" class="Keyword">where</a>                                                   <a id="24690" class="Comment">--         ██║  ██║  ██║</a>
  <a id="24717" class="Keyword">import</a> <a id="24724" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>                                                        <a id="24793" class="Comment">--         ██║  ██║  ██║</a>
  <a id="24820" class="Keyword">open</a> <a id="24825" class="Keyword">import</a> <a id="24832" href="Data.List.html" class="Module">Data.List</a> <a id="24842" class="Keyword">using</a> <a id="24848" class="Symbol">(</a><a id="24849" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">_∷_</a><a id="24852" class="Symbol">;</a> <a id="24854" href="Data.List.Base.html#9863" class="InductiveConstructor">[]</a><a id="24856" class="Symbol">)</a>                                       <a id="24896" class="Comment">--         ██║  ██║  ██║</a>
  <a id="24923" class="Keyword">open</a> <a id="24928" class="Keyword">import</a> <a id="24935" href="EqBool.html" class="Module">EqBool</a>                                                          <a id="24999" class="Comment">--         ██║  ██║  ██║</a>
  <a id="25026" class="Keyword">open</a> <a id="25031" class="Keyword">import</a> <a id="25038" href="Relation.Traced.html" class="Module">Relation.Traced</a> <a id="25054" href="Polynomial.Simple.AlmostCommutativeRing.Instances.html#386" class="Function">Nat.ring</a>  <a id="25064" href="Data.Nat.Show.html#987" class="Function">Data.Nat.Show.show</a> <a id="25083" class="Keyword">public</a>             <a id="25102" class="Comment">--         ██║  ██║  ██║</a>
  <a id="25129" class="Keyword">open</a> <a id="25134" href="Polynomial.Simple.AlmostCommutativeRing.html#905" class="Module">AlmostCommutativeRing</a> <a id="25156" href="Relation.Traced.html#6181" class="Function">tracedRing</a>                                       <a id="25205" class="Comment">--         ██║  ██║  ██║</a>
  <a id="25232" class="Keyword">open</a> <a id="25237" class="Keyword">import</a> <a id="25244" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="25282" class="Symbol">as</a> <a id="25285" class="Module">≡</a> <a id="25287" class="Keyword">using</a> <a id="25293" class="Symbol">(</a><a id="25294" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="25297" class="Symbol">)</a>          <a id="25308" class="Comment">--         ██║  ██║  ██║</a>
                                                                              <a id="25411" class="Comment">--         ██║  ██║  ██║</a>
  <a id="TracedExamples.lemma"></a><a id="25438" href="README.html#25438" class="Function">lemma</a> <a id="25444" class="Symbol">:</a> <a id="25446" class="Symbol">∀</a> <a id="25448" href="README.html#25448" class="Bound">x</a> <a id="25450" href="README.html#25450" class="Bound">y</a> <a id="25452" class="Symbol">→</a> <a id="25454" href="README.html#25448" class="Bound">x</a> <a id="25456" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="25458" href="README.html#25450" class="Bound">y</a> <a id="25460" href="Polynomial.Simple.AlmostCommutativeRing.html#1165" class="Function Operator">*</a> <a id="25462" class="Number">1</a> <a id="25464" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="25466" class="Number">3</a> <a id="25468" href="Polynomial.Simple.AlmostCommutativeRing.html#1079" class="Function Operator">≈</a> <a id="25470" class="Number">2</a> <a id="25472" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="25474" class="Number">1</a> <a id="25476" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="25478" href="README.html#25450" class="Bound">y</a> <a id="25480" href="Polynomial.Simple.AlmostCommutativeRing.html#1123" class="Function Operator">+</a> <a id="25482" href="README.html#25448" class="Bound">x</a>                               <a id="25514" class="Comment">--         ██║  ██║  ██║</a>
  <a id="25541" href="README.html#25438" class="Function">lemma</a> <a id="25547" class="Symbol">=</a> <a id="25549" href="Polynomial.Simple.Reflection.html#8188" class="Macro">solve</a> <a id="25555" href="Relation.Traced.html#6181" class="Function">tracedRing</a>                                                    <a id="25617" class="Comment">--         ██║  ██║  ██║</a>
                                                                              <a id="25720" class="Comment">--      ██╗██║  ██║  ██║</a>
  <a id="TracedExamples.explained"></a><a id="25747" href="README.html#25747" class="Function">explained</a>                                                                   <a id="25823" class="Comment">--    ████║██║  ██║  ██║</a>
    <a id="25852" class="Symbol">:</a> <a id="25854" href="Relation.Traced.html#9689" class="Function">showProof</a> <a id="25864" class="Symbol">(</a><a id="25865" href="README.html#25438" class="Function">lemma</a> <a id="25871" class="String">&quot;x&quot;</a> <a id="25875" class="String">&quot;y&quot;</a><a id="25878" class="Symbol">)</a> <a id="25880" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="25882" class="String">&quot;x + y + 3&quot;</a>                                 <a id="25926" class="Comment">--  █████████║  ██║  ██║</a>
                                <a id="25983" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="25985" class="String">&quot;    ={ +-comm(x, y + 3) }&quot;</a>                 <a id="26029" class="Comment">--    ████╔══╝  ██║  ██║</a>
                                <a id="26086" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="26088" class="String">&quot;y + 3 + x&quot;</a>                                 <a id="26132" class="Comment">--      ██║     ██║  ██║</a>
                                <a id="26189" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="26191" class="String">&quot;    ={ +-comm(y, 3) }&quot;</a>                     <a id="26235" class="Comment">--      ╚═╝     ██║  ██║</a>
                                <a id="26292" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="26294" class="String">&quot;3 + y + x&quot;</a>                                 <a id="26338" class="Comment">--              ██║  ██║</a>
                                <a id="26395" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="26397" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>                                          <a id="26441" class="Comment">--              ██║  ██║</a>
  <a id="26468" href="README.html#25747" class="Function">explained</a> <a id="26478" class="Symbol">=</a> <a id="26480" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">≡.refl</a>                                                          <a id="26544" class="Comment">--              ██║  ██║</a>
<a id="26569" class="Comment">--------------------------------------------------------------------------------              ██║  ██║</a>
<a id="26672" class="Comment">--                                                                            --              ██║  ██║</a>
<a id="26775" class="Comment">-- The new solver uses a sparse representation, which is much faster than the --              ██║  ██║</a>
<a id="26878" class="Comment">-- dense one the old solver used. The following graph shows the time (in      --              ██║  ██║</a>
<a id="26981" class="Comment">-- seconds) to prove that:                                                    --              ██║  ██║</a>
<a id="27084" class="Comment">--                                                                            --              ██║  ██║</a>
<a id="27187" class="Comment">--     (1 + x₁¹ + x₂² + x₃³ + x₄⁴ + x₅⁵)ᵈ                                     --              ██║  ██║</a>
<a id="27290" class="Comment">--                                                                            --              ██║  ██║</a>
<a id="27393" class="Comment">-- is equal to its expanded form. (to run the benchmarks yourself, run the    --              ██║  ██║</a>
<a id="27496" class="Comment">-- run_benchmarks.py file. You&#39;ll need python 3 and sympy.)                   --              ██║  ██║</a>
<a id="27599" class="Comment">--                                                                            --              ██║  ██║</a>
<a id="27702" class="Comment">-- 540 |  * = old                                                       *     --              ██║  ██║</a>
<a id="27805" class="Comment">-- 525 |  + = new                                                       *     --              ██║  ██║</a>
<a id="27908" class="Comment">-- 510 |                                                                *     --              ██║  ██║</a>
<a id="28011" class="Comment">-- 495 |                                                                *     --              ██║  ██║</a>
<a id="28114" class="Comment">-- 480 |                                                                *     --              ██║  ██║</a>
<a id="28217" class="Comment">-- 465 |                                                               *      --              ██║  ██║</a>
<a id="28320" class="Comment">-- 450 |                                                               *      --              ██║  ██║</a>
<a id="28423" class="Comment">-- 435 |                                                               *      --              ██║  ██║</a>
<a id="28526" class="Comment">-- 420 |                                                              *       --              ██║  ██║</a>
<a id="28629" class="Comment">-- 405 |                                                              *       --              ██║  ██║</a>
<a id="28732" class="Comment">-- 390 |                                                              *       --              ██║  ██║</a>
<a id="28835" class="Comment">-- 375 |                                                             *        --              ██║  ██║</a>
<a id="28938" class="Comment">-- 360 |                                                             *        --              ██║  ██║</a>
<a id="29041" class="Comment">-- 345 |                                                             *        --              ██║  ██║</a>
<a id="29144" class="Comment">-- 330 |                                                            *         --              ██║  ██║</a>
<a id="29247" class="Comment">-- 315 |                                                            *         --              ██║  ██║</a>
<a id="29350" class="Comment">-- 300 |                                                            *         --              ██║  ██║</a>
<a id="29453" class="Comment">-- 285 |                                                           *          --              ██║  ██║</a>
<a id="29556" class="Comment">-- 270 |                                                           *          --              ██║  ██║</a>
<a id="29659" class="Comment">-- 255 |                                                           *          --              ██║  ██║</a>
<a id="29762" class="Comment">-- 240 |                                                          *           --           ██╗██║  ██║</a>
<a id="29865" class="Comment">-- 225 |                                                          *           --         ████║██║  ██║</a>
<a id="29968" class="Comment">-- 210 |                                                          *           --       █████████║  ██║</a>
<a id="30071" class="Comment">-- 195 |                                                         *            --         ████╔══╝  ██║</a>
<a id="30174" class="Comment">-- 180 |                                                         *            --           ██║     ██║</a>
<a id="30277" class="Comment">-- 165 |                                                         *            --           ╚═╝     ██║</a>
<a id="30380" class="Comment">-- 150 |                                                        *             --                   ██║</a>
<a id="30483" class="Comment">-- 135 |                                                        *             --                   ██║</a>
<a id="30586" class="Comment">-- 120 |                                                        *             --                   ██║</a>
<a id="30689" class="Comment">-- 105 |                                                       *              --                   ██║</a>
<a id="30792" class="Comment">--  90 |                                                      *               --                   ██║</a>
<a id="30895" class="Comment">--  75 |                                                     *                --                   ██║</a>
<a id="30998" class="Comment">--  60 |                                                   **                 --                   ██║</a>
<a id="31101" class="Comment">--  45 |                                                 **                   --                   ██║</a>
<a id="31204" class="Comment">--  30 |                                               **           +++++     --                   ██║</a>
<a id="31307" class="Comment">--  15 |                                          *****    +++++++++          --                   ██║</a>
<a id="31410" class="Comment">--   0 | *****************************************+++++++++                   --                   ██║</a>
<a id="31513" class="Comment">--     ------------------------------------------------------------------     --                   ██║</a>
<a id="31616" class="Comment">--   d = 1        2        3        4        5        6        7        8     --                   ██║</a>
<a id="31719" class="Comment">--------------------------------------------------------------------------------                   ██║</a>
<a id="31822" class="Comment">--                                                                                                 ██║</a>
<a id="31925" class="Comment">--                                 ██████████████████████████████████████████████████████████████████║</a>
<a id="32028" class="Comment">--                                 ██╔═══════════════════════════════════════════════════════════════╝</a>
<a id="32131" class="Comment">--                             ██████████╗</a>
<a id="32174" class="Comment">--                               ██████╔═╝</a>
<a id="32217" class="Comment">--                                 ██╔═╝</a>
<a id="32258" class="Comment">--                                 ╚═╝</a>
<a id="32297" class="Comment">--</a>
<a id="32300" class="Comment">-- * How does it work? Why is it fast?</a>
<a id="32339" class="Comment">--       The solver works by converting expressions to &quot;Horner Normal Form&quot;.</a>
<a id="32416" class="Comment">--       This representation is special: x + y is represented in the same way</a>
<a id="32494" class="Comment">--       as y + x. This is what lets us check that two expressions are equal.</a>
<a id="32572" class="Comment">--       The implementation here is *sparse*, also, which is why it&#39;s faster</a>
<a id="32649" class="Comment">--       than the old implementation.</a>
<a id="32687" class="Comment">--</a>
<a id="32690" class="Comment">--       Want to learn more? Then this is the place for you:</a>
<a id="32751" class="Keyword">import</a> <a id="32758" href="Polynomial.NormalForm.html" class="Module">Polynomial.NormalForm</a>
<a id="32780" class="Comment">--</a>
<a id="32783" class="Comment">-- * Prove it!</a>
<a id="32798" class="Comment">--       The type of proofs we need are *homomorphisms*. They basically mean</a>
<a id="32875" class="Comment">--       that the operations on the normal form correspond to the operations</a>
<a id="32952" class="Comment">--       on expressions. Also, we don&#39;t use propositional equality: we use</a>
<a id="33027" class="Comment">--       any equivalence relation the user supplies.</a>
<a id="33080" class="Comment">--</a>
<a id="33083" class="Comment">--       Don&#39;t believe me? Check it out:</a>
<a id="33124" class="Keyword">import</a> <a id="33131" href="Polynomial.Homomorphism.html" class="Module">Polynomial.Homomorphism</a>
<a id="33155" class="Comment">--</a>
<a id="33158" class="Comment">-- * How do I use it?</a>
<a id="33180" class="Comment">--       Copy the examples above! For the full solver, check out:</a>
<a id="33246" class="Keyword">import</a> <a id="33253" href="Polynomial.Solver.html" class="Module">Polynomial.Solver</a>
<a id="33271" class="Comment">--</a>
<a id="33274" class="Comment">-- * Wait! Don&#39;t!</a>
<a id="33292" class="Comment">--       The &quot;full&quot; solver lets you use different types for the coefficient</a>
<a id="33368" class="Comment">--       and carrier. You probably don&#39;t want that, unless you need the extra</a>
<a id="33446" class="Comment">--       efficiency. You&#39;ll want the *simple* solver:</a>
<a id="33500" class="Keyword">import</a> <a id="33507" href="Polynomial.Simple.Solver.html" class="Module">Polynomial.Simple.Solver</a>
<a id="33532" class="Comment">--</a>
<a id="33535" class="Comment">-- * Is that all?</a>
<a id="33553" class="Comment">--       No! As it happens, even the simple solver is complicated to use.</a>
<a id="33627" class="Comment">--       You&#39;ll *actually* want to use the reflection-based interface:</a>
<a id="33698" class="Keyword">import</a> <a id="33705" href="Polynomial.Simple.Reflection.html" class="Module">Polynomial.Simple.Reflection</a>
<a id="33734" class="Comment">--</a>
<a id="33737" class="Comment">-- * And what about the step-by-step stuff?</a>
<a id="33781" class="Comment">--       That all uses the same underlying solver as the other stuff, with a</a>
<a id="33858" class="Comment">--       special *relation*. You can check that out here:</a>
<a id="33916" class="Keyword">import</a> <a id="33923" href="Relation.Traced.html" class="Module">Relation.Traced</a>
</pre></body></html>